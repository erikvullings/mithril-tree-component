parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"oaoG":[function(require,module,exports) {

},{}],"y51D":[function(require,module,exports) {
"use strict";function o(o,i,e,n,r,t){return{tag:o,key:i,attrs:e,children:n,text:r,dom:t,domSize:void 0,state:void 0,events:void 0,instance:void 0}}o.normalize=function(i){return Array.isArray(i)?o("[",void 0,void 0,o.normalizeChildren(i),void 0,void 0):null==i||"boolean"==typeof i?null:"object"==typeof i?i:o("#",void 0,void 0,String(i),void 0,void 0)},o.normalizeChildren=function(i){for(var e=[],n=0;n<i.length;n++)e[n]=o.normalize(i[n]);return e},module.exports=o;
},{}],"skWM":[function(require,module,exports) {
"use strict";var r=require("../render/vnode");module.exports=function(){var e,t=arguments[this],s=this+1;if(null==t?t={}:("object"!=typeof t||null!=t.tag||Array.isArray(t))&&(t={},s=this),arguments.length===s+1)e=arguments[s],Array.isArray(e)||(e=[e]);else for(e=[];s<arguments.length;)e.push(arguments[s++]);return r("",t.key,t,e)};
},{"../render/vnode":"y51D"}],"l8ze":[function(require,module,exports) {
"use strict";var r=require("../render/vnode"),a=require("./hyperscriptVnode"),e=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,l={},t={}.hasOwnProperty;function s(r){for(var a in r)if(t.call(r,a))return!1;return!0}function n(r){for(var a,t="div",s=[],n={};a=e.exec(r);){var i=a[1],c=a[2];if(""===i&&""!==c)t=c;else if("#"===i)n.id=c;else if("."===i)s.push(c);else if("["===a[3][0]){var o=a[6];o&&(o=o.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===a[4]?s.push(o):n[a[4]]=""===o?o:o||!0}}return s.length>0&&(n.className=s.join(" ")),l[r]={tag:t,attrs:n}}function i(a,e){var l=e.attrs,n=r.normalizeChildren(e.children),i=t.call(l,"class"),c=i?l.class:l.className;if(e.tag=a.tag,e.attrs=null,e.children=void 0,!s(a.attrs)&&!s(l)){var o={};for(var u in l)t.call(l,u)&&(o[u]=l[u]);l=o}for(var u in a.attrs)t.call(a.attrs,u)&&"className"!==u&&!t.call(l,u)&&(l[u]=a.attrs[u]);for(var u in null==c&&null==a.attrs.className||(l.className=null!=c?null!=a.attrs.className?String(a.attrs.className)+" "+String(c):c:null!=a.attrs.className?a.attrs.className:null),i&&(l.class=null),l)if(t.call(l,u)&&"key"!==u){e.attrs=l;break}return Array.isArray(n)&&1===n.length&&null!=n[0]&&"#"===n[0].tag?e.text=n[0].children:e.children=n,e}function c(e){if(null==e||"string"!=typeof e&&"function"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");var t=a.apply(1,arguments);return"string"==typeof e&&(t.children=r.normalizeChildren(t.children),"["!==e)?i(l[e]||n(e),t):(t.tag=e,t)}module.exports=c;
},{"../render/vnode":"y51D","./hyperscriptVnode":"skWM"}],"b5QZ":[function(require,module,exports) {
"use strict";var e=require("../render/vnode");module.exports=function(r){return null==r&&(r=""),e("<",void 0,void 0,r,void 0,void 0)};
},{"../render/vnode":"y51D"}],"HdGc":[function(require,module,exports) {
"use strict";var r=require("../render/vnode"),e=require("./hyperscriptVnode");module.exports=function(){var n=e.apply(0,arguments);return n.tag="[",n.children=r.normalizeChildren(n.children),n};
},{"../render/vnode":"y51D","./hyperscriptVnode":"skWM"}],"R2AL":[function(require,module,exports) {
"use strict";var r=require("./render/hyperscript");r.trust=require("./render/trust"),r.fragment=require("./render/fragment"),module.exports=r;
},{"./render/hyperscript":"l8ze","./render/trust":"b5QZ","./render/fragment":"HdGc"}],"3EYV":[function(require,module,exports) {
"use strict";var n=function(t){if(!(this instanceof n))throw new Error("Promise must be called with `new`");if("function"!=typeof t)throw new TypeError("executor must be a function");var e=this,r=[],o=[],i=s(r,!0),c=s(o,!1),u=e._instance={resolvers:r,rejectors:o},f="function"==typeof setImmediate?setImmediate:setTimeout;function s(n,t){return function i(s){var h;try{if(!t||null==s||"object"!=typeof s&&"function"!=typeof s||"function"!=typeof(h=s.then))f(function(){t||0!==n.length||console.error("Possible unhandled promise rejection:",s);for(var e=0;e<n.length;e++)n[e](s);r.length=0,o.length=0,u.state=t,u.retry=function(){i(s)}});else{if(s===e)throw new TypeError("Promise can't be resolved w/ itself");l(h.bind(s))}}catch(a){c(a)}}}function l(n){var t=0;function e(n){return function(e){t++>0||n(e)}}var r=e(c);try{n(e(i),r)}catch(o){r(o)}}l(t)};n.prototype.then=function(t,e){var r,o,i=this._instance;function c(n,t,e,c){t.push(function(t){if("function"!=typeof n)e(t);else try{r(n(t))}catch(i){o&&o(i)}}),"function"==typeof i.retry&&c===i.state&&i.retry()}var u=new n(function(n,t){r=n,o=t});return c(t,i.resolvers,r,!0),c(e,i.rejectors,o,!1),u},n.prototype.catch=function(n){return this.then(null,n)},n.prototype.finally=function(t){return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})},n.resolve=function(t){return t instanceof n?t:new n(function(n){n(t)})},n.reject=function(t){return new n(function(n,e){e(t)})},n.all=function(t){return new n(function(n,e){var r=t.length,o=0,i=[];if(0===t.length)n([]);else for(var c=0;c<t.length;c++)!function(c){function u(t){o++,i[c]=t,o===r&&n(i)}null==t[c]||"object"!=typeof t[c]&&"function"!=typeof t[c]||"function"!=typeof t[c].then?u(t[c]):t[c].then(u,e)}(c)})},n.race=function(t){return new n(function(n,e){for(var r=0;r<t.length;r++)t[r].then(n,e)})},module.exports=n;
},{}],"PcbK":[function(require,module,exports) {
var global = arguments[3];
var o=arguments[3],e=require("./polyfill");"undefined"!=typeof window?(void 0===window.Promise?window.Promise=e:window.Promise.prototype.finally||(window.Promise.prototype.finally=e.prototype.finally),module.exports=window.Promise):void 0!==o?(void 0===o.Promise?o.Promise=e:o.Promise.prototype.finally||(o.Promise.prototype.finally=e.prototype.finally),module.exports=o.Promise):module.exports=e;
},{"./polyfill":"3EYV"}],"e1pw":[function(require,module,exports) {
"use strict";module.exports=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return"";var t=[];for(var o in e)r(o,e[o]);return t.join("&");function r(e,o){if(Array.isArray(o))for(var n=0;n<o.length;n++)r(e+"["+n+"]",o[n]);else if("[object Object]"===Object.prototype.toString.call(o))for(var n in o)r(e+"["+n+"]",o[n]);else t.push(encodeURIComponent(e)+(null!=o&&""!==o?"="+encodeURIComponent(o):""))}};
},{}],"TIRB":[function(require,module,exports) {
"use strict";module.exports=Object.assign||function(t,c){c&&Object.keys(c).forEach(function(e){t[e]=c[e]})};
},{}],"bE7V":[function(require,module,exports) {
"use strict";var e=require("../querystring/build"),r=require("./assign");module.exports=function(n,t){if(/:([^\/\.-]+)(\.{3})?:/.test(n))throw new SyntaxError("Template parameter names *must* be separated");if(null==t)return n;var i=n.indexOf("?"),l=n.indexOf("#"),s=l<0?n.length:l,u=i<0?s:i,a=n.slice(0,u),c={};r(c,t);var d=a.replace(/:([^\/\.-]+)(\.{3})?/g,function(e,r,n){return delete c[r],null==t[r]?e:n?t[r]:encodeURIComponent(String(t[r]))}),o=d.indexOf("?"),f=d.indexOf("#"),g=f<0?d.length:f,m=o<0?g:o,p=d.slice(0,m);i>=0&&(p+=n.slice(i,s)),o>=0&&(p+=(i<0?"?":"&")+d.slice(o,g));var x=e(c);return x&&(p+=(i<0&&o<0?"?":"&")+x),l>=0&&(p+=n.slice(l)),f>=0&&(p+=(l<0?"":"&")+d.slice(f)),p};
},{"../querystring/build":"e1pw","./assign":"TIRB"}],"Nv5j":[function(require,module,exports) {
"use strict";var e=require("../pathname/build");module.exports=function(t,n){var r,o=0;function a(e){return new n(e)}function i(t){return function(o,i){"string"!=typeof o?(i=o,o=o.url):null==i&&(i={});var s=new n(function(n,r){t(e(o,i.params),i,function(e){if("function"==typeof i.type)if(Array.isArray(e))for(var t=0;t<e.length;t++)e[t]=new i.type(e[t]);else e=new i.type(e);n(e)},r)});if(!0===i.background)return s;var c=0;function u(){0==--c&&"function"==typeof r&&r()}return function e(t){var n=t.then;t.constructor=a;t.then=function(){c++;var r=n.apply(t,arguments);return r.then(u,function(e){if(u(),0===c)throw e}),e(r)};return t}(s)}}function s(e,t){for(var n in e.headers)if({}.hasOwnProperty.call(e.headers,n)&&t.test(n))return!0;return!1}return a.prototype=n.prototype,a.__proto__=n,{request:i(function(e,n,r,o){var a,i=null!=n.method?n.method.toUpperCase():"GET",c=n.body,u=!(null!=n.serialize&&n.serialize!==JSON.serialize||c instanceof t.FormData),p=n.responseType||("function"==typeof n.extract?"":"json"),f=new t.XMLHttpRequest,l=!1,d=f,y=f.abort;for(var h in f.abort=function(){l=!0,y.call(this)},f.open(i,e,!1!==n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),u&&null!=c&&!s(n,/^content-type$/i)&&f.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof n.deserialize||s(n,/^accept$/i)||f.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(f.withCredentials=n.withCredentials),n.timeout&&(f.timeout=n.timeout),f.responseType=p,n.headers)({}).hasOwnProperty.call(n.headers,h)&&f.setRequestHeader(h,n.headers[h]);f.onreadystatechange=function(t){if(!l&&4===t.target.readyState)try{var a,i=t.target.status>=200&&t.target.status<300||304===t.target.status||/^file:\/\//i.test(e),s=t.target.response;if("json"===p?t.target.responseType||"function"==typeof n.extract||(s=JSON.parse(t.target.responseText)):p&&"text"!==p||null==s&&(s=t.target.responseText),"function"==typeof n.extract?(s=n.extract(t.target,n),i=!0):"function"==typeof n.deserialize&&(s=n.deserialize(s)),i)r(s);else{try{a=t.target.responseText}catch(u){a=s}var c=new Error(a);c.code=t.target.status,c.response=s,o(c)}}catch(u){o(u)}},"function"==typeof n.config&&(f=n.config(f,n,e)||f)!==d&&(a=f.abort,f.abort=function(){l=!0,a.call(this)}),null==c?f.send():"function"==typeof n.serialize?f.send(n.serialize(c)):c instanceof t.FormData?f.send(c):f.send(JSON.stringify(c))}),jsonp:i(function(e,n,r,a){var i=n.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+o++,s=t.document.createElement("script");t[i]=function(e){delete t[i],s.parentNode.removeChild(s),r(e)},s.onerror=function(){delete t[i],s.parentNode.removeChild(s),a(new Error("JSONP request failed"))},s.src=e+(e.indexOf("?")<0?"?":"&")+encodeURIComponent(n.callbackKey||"callback")+"="+encodeURIComponent(i),t.document.documentElement.appendChild(s)}),setCompletionCallback:function(e){r=e}}};
},{"../pathname/build":"bE7V"}],"JA2/":[function(require,module,exports) {
"use strict";var e=require("./promise/promise");module.exports=require("./request/request")(window,e);
},{"./promise/promise":"PcbK","./request/request":"Nv5j"}],"oGTt":[function(require,module,exports) {
"use strict";var e=require("../render/vnode");module.exports=function(t){var n,l=t.document,o={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function r(e){return e.attrs&&e.attrs.xmlns||o[e.tag]}function i(e,t){if(e.state!==t)throw new Error("`vnode.state` must not be modified")}function a(e){var t=e.state;try{return this.apply(t,arguments)}finally{i(e,t)}}function u(){try{return l.activeElement}catch(e){return null}}function d(e,t){for(var n=1;n<e.length;n++)if((null!=e[n]&&null!=e[n].key)!==t)throw new TypeError("Vnodes must either always have keys or never have keys!")}function s(e,t,n,l,o){t.length&&(d(t,null!=t[0]&&null!=t[0].key),f(e,t,0,t.length,n,l,o))}function f(e,t,n,l,o,r,i){for(var a=n;a<l;a++){var u=t[a];null!=u&&c(e,u,o,i,r)}}function c(t,n,o,i,u){var d=n.tag;if("string"==typeof d)switch(n.state={},null!=n.attrs&&O(n.attrs,n,o),d){case"#":!function(e,t,n){t.dom=l.createTextNode(t.children),x(e,t.dom,n)}(t,n,u);break;case"<":m(t,n,i,u);break;case"[":!function(e,t,n,o,r){var i=l.createDocumentFragment();if(null!=t.children){var a=t.children;s(i,a,n,null,o)}t.dom=i.firstChild,t.domSize=i.childNodes.length,x(e,i,r)}(t,n,o,i,u);break;default:!function(t,n,o,i,a){var u=n.tag,d=n.attrs,f=d&&d.is,c=(i=r(n)||i)?f?l.createElementNS(i,u,{is:f}):l.createElementNS(i,u):f?l.createElement(u,{is:f}):l.createElement(u);n.dom=c,null!=d&&function(e,t,n){for(var l in t)E(e,l,null,t[l],n)}(n,d,i);if(x(t,c,a),!k(n)&&(null!=n.text&&(""!==n.text?c.textContent=n.text:n.children=[e("#",void 0,void 0,n.text,void 0,void 0)]),null!=n.children)){var v=n.children;s(c,v,o,null,i),"select"===n.tag&&null!=d&&function(e,t){if("value"in t)if(null===t.value)-1!==e.dom.selectedIndex&&(e.dom.value=null);else{var n=""+t.value;e.dom.value===n&&-1!==e.dom.selectedIndex||(e.dom.value=n)}"selectedIndex"in t&&E(e,"selectedIndex",null,t.selectedIndex,void 0)}(n,d)}}(t,n,o,i,u)}else!function(t,n,l,o,r){(function(t,n){var l;if("function"==typeof t.tag.view){if(t.state=Object.create(t.tag),null!=(l=t.state.view).$$reentrantLock$$)return;l.$$reentrantLock$$=!0}else{if(t.state=void 0,null!=(l=t.tag).$$reentrantLock$$)return;l.$$reentrantLock$$=!0,t.state=null!=t.tag.prototype&&"function"==typeof t.tag.prototype.view?new t.tag(t):t.tag(t)}if(O(t.state,t,n),null!=t.attrs&&O(t.attrs,t,n),t.instance=e.normalize(a.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");l.$$reentrantLock$$=null})(n,l),null!=n.instance?(c(t,n.instance,l,o,r),n.dom=n.instance.dom,n.domSize=null!=n.dom?n.instance.domSize:0):n.domSize=0}(t,n,o,i,u)}var v={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function m(e,t,n,o){var r=t.children.match(/^\s*?<(\w+)/im)||[],i=l.createElement(v[r[1]]||"div");"http://www.w3.org/2000/svg"===n?(i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",i=i.firstChild):i.innerHTML=t.children,t.dom=i.firstChild,t.domSize=i.childNodes.length;for(var a,u=l.createDocumentFragment();a=i.firstChild;)u.appendChild(a);x(e,u,o)}function h(e,t,n,l,o,r){if(t!==n&&(null!=t||null!=n))if(null==t||0===t.length)s(e,n,l,o,r);else if(null==n||0===n.length)S(t,0,t.length);else{var i=null!=t[0]&&null!=t[0].key,a=null!=n[0]&&null!=n[0].key,u=0,v=0;if(d(n,a),!i)for(;v<t.length&&null==t[v];)v++;if(!a)for(;u<n.length&&null==n[u];)u++;if(null===a&&null==i)return;if(i!==a)S(t,v,t.length),f(e,n,u,n.length,l,o,r);else if(a){for(var m,h,k,E,$,C=t.length-1,A=n.length-1;C>=v&&A>=u&&(k=t[C],E=n[A],k.key===E.key);)k!==E&&g(e,k,E,l,o,r),null!=E.dom&&(o=E.dom),C--,A--;for(;C>=v&&A>=u&&(m=t[v],h=n[u],m.key===h.key);)v++,u++,m!==h&&g(e,m,h,l,b(t,v,o),r);for(;C>=v&&A>=u&&u!==A&&m.key===E.key&&k.key===h.key;)$=b(t,v,o),x(e,w(k),$),k!==h&&g(e,k,h,l,$,r),++u<=--A&&x(e,w(m),o),m!==E&&g(e,m,E,l,o,r),null!=E.dom&&(o=E.dom),v++,k=t[--C],E=n[A],m=t[v],h=n[u];for(;C>=v&&A>=u&&k.key===E.key;)k!==E&&g(e,k,E,l,o,r),null!=E.dom&&(o=E.dom),A--,k=t[--C],E=n[A];if(u>A)S(t,v,C+1);else if(v>C)f(e,n,u,A+1,l,o,r);else{var L,N,T=o,j=A-u+1,I=new Array(j),M=0,O=0,D=2147483647,F=0;for(O=0;O<j;O++)I[O]=-1;for(O=A;O>=u;O--){null==L&&(L=p(t,v,C+1));var H=L[(E=n[O]).key];null!=H&&(D=H<D?H:-1,I[O-u]=H,k=t[H],t[H]=null,k!==E&&g(e,k,E,l,o,r),null!=E.dom&&(o=E.dom),F++)}if(o=T,F!==C-v+1&&S(t,v,C+1),0===F)f(e,n,u,A+1,l,o,r);else if(-1===D)for(M=(N=function(e){for(var t=[0],n=0,l=0,o=0,r=y.length=e.length,o=0;o<r;o++)y[o]=e[o];for(var o=0;o<r;++o)if(-1!==e[o]){var i=t[t.length-1];if(e[i]<e[o])y[o]=i,t.push(o);else{for(n=0,l=t.length-1;n<l;){var a=(n>>>1)+(l>>>1)+(n&l&1);e[t[a]]<e[o]?n=a+1:l=a}e[o]<e[t[n]]&&(n>0&&(y[o]=t[n-1]),t[n]=o)}}n=t.length,l=t[n-1];for(;n-- >0;)t[n]=l,l=y[l];return y.length=0,t}(I)).length-1,O=A;O>=u;O--)h=n[O],-1===I[O-u]?c(e,h,l,r,o):N[M]===O-u?M--:x(e,w(h),o),null!=h.dom&&(o=n[O].dom);else for(O=A;O>=u;O--)h=n[O],-1===I[O-u]&&c(e,h,l,r,o),null!=h.dom&&(o=n[O].dom)}}else{var P=t.length<n.length?t.length:n.length;for(u=u<v?u:v;u<P;u++)(m=t[u])===(h=n[u])||null==m&&null==h||(null==m?c(e,h,l,r,b(t,u+1,o)):null==h?z(m):g(e,m,h,l,b(t,u+1,o),r));t.length>P&&S(t,u,t.length),n.length>P&&f(e,n,u,n.length,l,o,r)}}}function g(t,n,l,o,i,u){var d=n.tag;if(d===l.tag){if(l.state=n.state,l.events=n.events,function(e,t){do{if(null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate){var n=a.call(e.attrs.onbeforeupdate,e,t);if(void 0!==n&&!n)break}if("string"!=typeof e.tag&&"function"==typeof e.state.onbeforeupdate){var n=a.call(e.state.onbeforeupdate,e,t);if(void 0!==n&&!n)break}return!1}while(0);return e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,e.attrs=t.attrs,e.children=t.children,e.text=t.text,!0}(l,n))return;if("string"==typeof d)switch(null!=l.attrs&&D(l.attrs,l,o),d){case"#":!function(e,t){e.children.toString()!==t.children.toString()&&(e.dom.nodeValue=t.children);t.dom=e.dom}(n,l);break;case"<":!function(e,t,n,l,o){t.children!==n.children?(w(t),m(e,n,l,o)):(n.dom=t.dom,n.domSize=t.domSize)}(t,n,l,u,i);break;case"[":!function(e,t,n,l,o,r){h(e,t.children,n.children,l,o,r);var i=0,a=n.children;if(n.dom=null,null!=a){for(var u=0;u<a.length;u++){var d=a[u];null!=d&&null!=d.dom&&(null==n.dom&&(n.dom=d.dom),i+=d.domSize||1)}1!==i&&(n.domSize=i)}}(t,n,l,o,i,u);break;default:!function(t,n,l,o){var i=n.dom=t.dom;o=r(n)||o,"textarea"===n.tag&&(null==n.attrs&&(n.attrs={}),null!=n.text&&(n.attrs.value=n.text,n.text=void 0));(function(e,t,n,l){if(null!=n)for(var o in n)E(e,o,t&&t[o],n[o],l);var r;if(null!=t)for(var o in t)null==(r=t[o])||null!=n&&null!=n[o]||$(e,o,r,l)})(n,t.attrs,n.attrs,o),k(n)||(null!=t.text&&null!=n.text&&""!==n.text?t.text.toString()!==n.text.toString()&&(t.dom.firstChild.nodeValue=n.text):(null!=t.text&&(t.children=[e("#",void 0,void 0,t.text,void 0,t.dom.firstChild)]),null!=n.text&&(n.children=[e("#",void 0,void 0,n.text,void 0,void 0)]),h(i,t.children,n.children,l,null,o)))}(n,l,o,u)}else!function(t,n,l,o,r,i){if(l.instance=e.normalize(a.call(l.state.view,l)),l.instance===l)throw Error("A view cannot return the vnode it received as argument");D(l.state,l,o),null!=l.attrs&&D(l.attrs,l,o);null!=l.instance?(null==n.instance?c(t,l.instance,o,i,r):g(t,n.instance,l.instance,o,r,i),l.dom=l.instance.dom,l.domSize=l.instance.domSize):null!=n.instance?(z(n.instance),l.dom=void 0,l.domSize=0):(l.dom=n.dom,l.domSize=n.domSize)}(t,n,l,o,i,u)}else z(n),c(t,l,o,u,i)}function p(e,t,n){for(var l=Object.create(null);t<n;t++){var o=e[t];if(null!=o){var r=o.key;null!=r&&(l[r]=t)}}return l}var y=[];function w(e){var t=e.domSize;if(null!=t||null==e.dom){var n=l.createDocumentFragment();if(t>0){for(var o=e.dom;--t;)n.appendChild(o.nextSibling);n.insertBefore(o,n.firstChild)}return n}return e.dom}function b(e,t,n){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return n}function x(e,t,n){null!=n?e.insertBefore(t,n):e.appendChild(t)}function k(e){if(null!=e.attrs&&(null!=e.attrs.contenteditable||null!=e.attrs.contentEditable)){var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var n=t[0].children;e.dom.innerHTML!==n&&(e.dom.innerHTML=n)}else if(null!=e.text||null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted")}}function S(e,t,n){for(var l=t;l<n;l++){var o=e[l];null!=o&&z(o)}}function z(e){var t,n=1,l=0,o=e.state;"string"!=typeof e.tag&&"function"==typeof e.state.onbeforeremove&&(null!=(t=a.call(e.state.onbeforeremove,e))&&"function"==typeof t.then&&(n++,t.then(r,r)));e.attrs&&"function"==typeof e.attrs.onbeforeremove&&(null!=(t=a.call(e.attrs.onbeforeremove,e))&&"function"==typeof t.then&&(n++,t.then(r,r)));function r(){if(++l===n&&(i(e,o),function e(t){"string"!=typeof t.tag&&"function"==typeof t.state.onremove&&a.call(t.state.onremove,t);t.attrs&&"function"==typeof t.attrs.onremove&&a.call(t.attrs.onremove,t);if("string"!=typeof t.tag)null!=t.instance&&e(t.instance);else{var n=t.children;if(Array.isArray(n))for(var l=0;l<n.length;l++){var o=n[l];null!=o&&e(o)}}}(e),e.dom)){for(var t=e.dom.parentNode,r=e.domSize||1;--r;)t.removeChild(e.dom.nextSibling);t.removeChild(e.dom)}}r()}function E(e,t,n,o,r){if("key"!==t&&"is"!==t&&null!=o&&!C(t)&&(n!==o||function(e,t){return"value"===t||"checked"===t||"selectedIndex"===t||"selected"===t&&e.dom===u()||"option"===e.tag&&e.dom.parentNode===l.activeElement}(e,t)||"object"==typeof o)){if("o"===t[0]&&"n"===t[1])return M(e,t,o);if("xlink:"===t.slice(0,6))e.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),o);else if("style"===t)j(e.dom,n,o);else if(A(e,t,r)){if("value"===t){if(("input"===e.tag||"textarea"===e.tag)&&e.dom.value===""+o&&e.dom===u())return;if("select"===e.tag&&null!==n&&e.dom.value===""+o)return;if("option"===e.tag&&null!==n&&e.dom.value===""+o)return}"input"===e.tag&&"type"===t?e.dom.setAttribute(t,o):e.dom[t]=o}else"boolean"==typeof o?o?e.dom.setAttribute(t,""):e.dom.removeAttribute(t):e.dom.setAttribute("className"===t?"class":t,o)}}function $(e,t,n,l){if("key"!==t&&"is"!==t&&null!=n&&!C(t))if("o"!==t[0]||"n"!==t[1]||C(t))if("style"===t)j(e.dom,n,null);else if(!A(e,t,l)||"className"===t||"value"===t&&("option"===e.tag||"select"===e.tag&&-1===e.dom.selectedIndex&&e.dom===u())||"input"===e.tag&&"type"===t){var o=t.indexOf(":");-1!==o&&(t=t.slice(o+1)),!1!==n&&e.dom.removeAttribute("className"===t?"class":t)}else e.dom[t]=null;else M(e,t,void 0)}function C(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function A(e,t,n){return void 0===n&&(e.tag.indexOf("-")>-1||null!=e.attrs&&e.attrs.is||"href"!==t&&"list"!==t&&"form"!==t&&"width"!==t&&"height"!==t)&&t in e.dom}var L=/[A-Z]/g;function N(e){return"-"+e.toLowerCase()}function T(e){return"-"===e[0]&&"-"===e[1]?e:"cssFloat"===e?"float":e.replace(L,N)}function j(e,t,n){if(t===n);else if(null==n)e.style.cssText="";else if("object"!=typeof n)e.style.cssText=n;else if(null==t||"object"!=typeof t)for(var l in e.style.cssText="",n){null!=(o=n[l])&&e.style.setProperty(T(l),String(o))}else{for(var l in n){var o;null!=(o=n[l])&&(o=String(o))!==String(t[l])&&e.style.setProperty(T(l),o)}for(var l in t)null!=t[l]&&null==n[l]&&e.style.removeProperty(T(l))}}function I(){}function M(e,t,n){if(null!=e.events){if(e.events[t]===n)return;null==n||"function"!=typeof n&&"object"!=typeof n?(null!=e.events[t]&&e.dom.removeEventListener(t.slice(2),e.events,!1),e.events[t]=void 0):(null==e.events[t]&&e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=n)}else null==n||"function"!=typeof n&&"object"!=typeof n||(e.events=new I,e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=n)}function O(e,t,n){"function"==typeof e.oninit&&a.call(e.oninit,t),"function"==typeof e.oncreate&&n.push(a.bind(e.oncreate,t))}function D(e,t,n){"function"==typeof e.onupdate&&n.push(a.bind(e.onupdate,t))}return I.prototype=Object.create(null),I.prototype.handleEvent=function(e){var t,l=this["on"+e.type];"function"==typeof l?t=l.call(e.currentTarget,e):"function"==typeof l.handleEvent&&l.handleEvent(e),!1===e.redraw?e.redraw=void 0:"function"==typeof n&&n(),!1===t&&(e.preventDefault(),e.stopPropagation())},{render:function(t,n){if(!t)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var l=[],o=u(),r=t.namespaceURI;null==t.vnodes&&(t.textContent=""),n=e.normalizeChildren(Array.isArray(n)?n:[n]),h(t,t.vnodes,n,l,null,"http://www.w3.org/1999/xhtml"===r?void 0:r),t.vnodes=n,null!=o&&u()!==o&&"function"==typeof o.focus&&o.focus();for(var i=0;i<l.length;i++)l[i]()},setRedraw:function(e){return n=e}}};
},{"../render/vnode":"y51D"}],"pn35":[function(require,module,exports) {
"use strict";var r=require("../render/render");function e(r){var e=null;return function(){null===e&&(e=requestAnimationFrame(function(){e=null,r()}))}}module.exports=function(n,t){var o=r(n),c=[],u=!1;function i(r){for(var e=0;e<c.length;e++){var n=c[e];if(n.k===r){c.splice(e,1),o.render(n.k,[]),"function"==typeof n.r&&n.r();break}}}function a(){if(u)throw new Error("Nested m.redraw.sync() call");u=!0;for(var r=0;r<c.length;r++)try{e=c[r],n=void 0,(n=e.c(e))!==e&&o.render(e.k,n)}catch(t){"undefined"!=typeof console&&console.error(t)}var e,n;u=!1}var s=(t||e)(a);return s.sync=a,o.setRedraw(s),{subscribe:function(r,e,n){var t={k:r,c:e,r:n};i(r),c.push(t);var u=t.c(t);u!==t&&o.render(t.k,u)},unsubscribe:i,redraw:s,render:o.render}};
},{"../render/render":"oGTt"}],"om1r":[function(require,module,exports) {
"use strict";module.exports=require("./api/redraw")(window);
},{"./api/redraw":"pn35"}],"5WoQ":[function(require,module,exports) {
"use strict";var e=require("../render/vnode");module.exports=function(n){return function(o,r){if(null===r)n.unsubscribe(o);else{if(null==r.view&&"function"!=typeof r)throw new Error("m.mount(element, component) expects a component, not a vnode");n.subscribe(o,function(){return e(r)})}}};
},{"../render/vnode":"y51D"}],"3VKY":[function(require,module,exports) {
"use strict";var r=require("./redraw");module.exports=require("./api/mount")(r);
},{"./redraw":"om1r","./api/mount":"5WoQ"}],"Pflx":[function(require,module,exports) {
"use strict";module.exports=function(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1));for(var r=e.split("&"),n={},t={},l=0;l<r.length;l++){var i=r[l].split("="),o=decodeURIComponent(i[0]),s=2===i.length?decodeURIComponent(i[1]):"";"true"===s?s=!0:"false"===s&&(s=!1);var a=o.split(/\]\[?|\[/),p=t;o.indexOf("[")>-1&&a.pop();for(var u=0;u<a.length;u++){var c=a[u],f=a[u+1],d=""==f||!isNaN(parseInt(f,10)),h=u===a.length-1;if(""===c)null==n[o=a.slice(0,u).join()]&&(n[o]=Array.isArray(p)?p.length:0),c=n[o]++;h?p[c]=s:null==p[c]&&(p[c]=d?[]:{}),p=p[c]}}return t};
},{}],"Z9Pf":[function(require,module,exports) {
"use strict";var e=require("../querystring/parse");module.exports=function(r){var t=r.indexOf("?"),i=r.indexOf("#"),n=i<0?r.length:i,s=t<0?n:t,l=r.slice(0,s).replace(/\/{2,}/g,"/");return l?("/"!==l[0]&&(l="/"+l),l.length>1&&"/"===l[l.length-1]&&(l=l.slice(0,-1))):l="/",{path:l,params:t<0?{}:e(r.slice(t+1,n))}};
},{"../querystring/parse":"Pflx"}],"LcIX":[function(require,module,exports) {
"use strict";var r=require("./parse");module.exports=function(e){var t=r(e),n=Object.keys(t.params),a=[],u=new RegExp("^"+t.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(r,e,t){return null==e?"\\"+r:(a.push({k:e,r:"..."===t}),"..."===t?"(.*)":"."===t?"([^/]+)\\.":"([^/]+)"+(t||""))})+"$");return function(r){for(var e=0;e<n.length;e++)if(t.params[n[e]]!==r.params[n[e]])return!1;if(!a.length)return u.test(r.path);var p=u.exec(r.path);if(null==p)return!1;for(e=0;e<a.length;e++)r.params[a[e].k]=a[e].r?p[e+1]:decodeURIComponent(p[e+1]);return!0}};
},{"./parse":"Z9Pf"}],"l5vo":[function(require,module,exports) {
"use strict";var e=require("../pathname/build"),t=require("../pathname/parse"),r=require("../pathname/compileTemplate"),n=require("../pathname/assign");module.exports=function(a){var i,o="function"==typeof setImmediate?setImmediate:setTimeout,s="function"==typeof a.history.pushState;return{prefix:"#!",getPath:function(){var e=a.location.hash;return"#"!==this.prefix[0]&&(e=a.location.search+e,"?"!==this.prefix[0]&&"/"!==(e=a.location.pathname+e)[0]&&(e="/"+e)),e.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent).slice(this.prefix.length)},setPath:function(t,r,n){if(t=e(t,r),null!=i){i();var o=n?n.state:null,s=n?n.title:null;n&&n.replace?a.history.replaceState(o,s,this.prefix+t):a.history.pushState(o,s,this.prefix+t)}else a.location.href=this.prefix+t},defineRoutes:function(e,h,u,c,p){var f,l,m=this,v=Object.keys(e).map(function(t){if("/"!==t[0])throw new SyntaxError("Routes must start with a `/`");if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Route parameter names must be separated with either `/`, `.`, or `-`");return{route:t,component:e[t],check:r(t)}});if(i=null,null!=c){var d=t(c);if(!v.some(function(e){return e.check(d)}))throw new ReferenceError("Default route doesn't match any known routes")}function x(){var e=m.getPath(),r=t(e);n(r.params,a.history.state);for(var i=0;i<v.length;i++)if(v[i].check(r))return void h(v[i].component,r.params,e,v[i].route);u(e,r.params)}s?(f=function(){a.removeEventListener("popstate",i,!1)},a.addEventListener("popstate",i=function(){l||(l=o(function(){l=null,x()}))},!1)):"#"===this.prefix[0]&&(f=function(){a.removeEventListener("hashchange",x,!1)},a.addEventListener("hashchange",x,!1)),p(f),x()}}};
},{"../pathname/build":"bE7V","../pathname/parse":"Z9Pf","../pathname/compileTemplate":"LcIX","../pathname/assign":"TIRB"}],"rSj3":[function(require,module,exports) {
"use strict";var e=require("../render/vnode"),n=require("../promise/promise"),r=require("../router/router"),t={};module.exports=function(i,u){var o,f,c,l,a=r(i),s=t,d=function(r,i,d){if(null==r)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var v=!1,h=function(e){if(e===i)throw new Error("Could not resolve default route "+i);a.setPath(i,null,{replace:!0})};function p(){if(v=!0,t!==s){var n=e(o,f.key,f);return s&&(n=s.render(n)),n}}a.defineRoutes(d,function(e,r,t,i){var a=l=function(e,n){a===l&&(o=null==n||"function"!=typeof n.view&&"function"!=typeof n?"div":n,f=r,c=t,l=null,s=e.render?e:null,v?u.redraw():(v=!0,u.redraw.sync()))};e.view||"function"==typeof e?a({},e):e.onmatch?n.resolve(e.onmatch(r,t,i)).then(function(n){a(e,n)},function(){h(t)}):a(e,"div")},h,i,function(e){u.subscribe(r,function(e){return e.c=p,e},e)})};d.set=function(e,n,r){null!=l&&((r=r||{}).replace=!0),l=null,a.setPath(e,n,r)},d.get=function(){return c},d.prefix=function(e){a.prefix=e};var v=function(e,n){n.dom.setAttribute("href",a.prefix+n.attrs.href),n.dom.onclick=function(n){if(!(n.ctrlKey||n.metaKey||n.shiftKey||2===n.which)){n.preventDefault(),n.redraw=!1;var r=this.getAttribute("href");0===r.indexOf(a.prefix)&&(r=r.slice(a.prefix.length)),d.set(r,void 0,e)}}};return d.link=function(e){return null==e.tag?v.bind(v,e):v({},e)},d.param=function(e){return void 0!==f&&void 0!==e?f[e]:f},d};
},{"../render/vnode":"y51D","../promise/promise":"PcbK","../router/router":"l5vo"}],"cTg1":[function(require,module,exports) {
"use strict";var r=require("./redraw");module.exports=require("./api/router")(window,r);
},{"./redraw":"om1r","./api/router":"rSj3"}],"knD4":[function(require,module,exports) {
"use strict";module.exports=require("./render/render")(window);
},{"./render/render":"oGTt"}],"0zcT":[function(require,module,exports) {
module.exports={name:"mithril",version:"2.0.0-rc.7",description:"A framework for building brilliant applications",author:"Leo Horie",license:"MIT",unpkg:"mithril.min.js",repository:"MithrilJS/mithril.js",scripts:{dev:"node bundler/cli browser.js -output mithril.js -watch",build:"npm run build-browser & npm run build-min","build-browser":"node bundler/cli browser.js -output mithril.js","build-min":"node bundler/cli browser.js -output mithril.min.js -minify",precommit:"lint-staged",lintdocs:"node docs/lint",gendocs:"node docs/generate",lint:"eslint . || true","lint:fix":"eslint . --fix",perf:"node performance/test-perf.js",test:"node ospec/bin/ospec",posttest:"npm run lint",cover:"istanbul cover --print both ospec/bin/ospec",release:"npm version -m 'v%s'",preversion:"npm run test",version:"npm run build && git add mithril.js mithril.min.js",postversion:"git push --follow-tags"},devDependencies:{"@alrra/travis-scripts":"^3.0.1",benchmark:"^2.1.4",chokidar:"^2.0.4",dedent:"^0.7.0",eslint:"^5.13.0","gh-pages":"^2.0.1",istanbul:"^0.4.5","lint-staged":"^8.1.3",locater:"^1.3.0",marked:"^0.6.2",pinpoint:"^1.1.0",terser:"^3.16.1"},bin:{ospec:"./ospec/bin/ospec"},"lint-staged":{"*.js":["eslint . --fix","git add"]},dependencies:{}};
},{}],"/Vx2":[function(require,module,exports) {
"use strict";var r=require("./hyperscript"),e=function(){return r.apply(this,arguments)};e.m=r,e.trust=r.trust,e.fragment=r.fragment;var u=require("./request"),i=require("./redraw");u.setCompletionCallback(i.redraw),e.mount=require("./mount"),e.route=require("./route"),e.render=require("./render").render,e.redraw=i.redraw,e.request=u.request,e.jsonp=u.jsonp,e.parseQueryString=require("./querystring/parse"),e.buildQueryString=require("./querystring/build"),e.parsePathname=require("./pathname/parse"),e.buildPathname=require("./pathname/build"),e.version=require("./package.json").version,e.vnode=require("./render/vnode"),e.PromisePolyfill=require("./promise/polyfill"),module.exports=e;
},{"./hyperscript":"R2AL","./request":"JA2/","./redraw":"om1r","./mount":"3VKY","./route":"cTg1","./render":"knD4","./querystring/parse":"Pflx","./querystring/build":"e1pw","./pathname/parse":"Z9Pf","./pathname/build":"bE7V","./package.json":"0zcT","./render/vnode":"y51D","./promise/polyfill":"3EYV"}],"er4H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.uuid4=exports.move=exports.log=exports.TreeItemIdPrefix=exports.TreeItem=exports.TreeContainer=exports.TreeButton=void 0;var e=t(require("mithril"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function n(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var a=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},i=function(e,t,r){return e?e.splice(r,0,e.splice(t,1)[0]):void 0},o=function(){return{view:function(t){var r=t.attrs,n=r.buttonName,a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r}(r,["buttonName"]);return(0,e.default)(""+function(e){switch(n){case"expand_more":case"expand_less":return".mtc__clickable.mtc__collapse-expand-item";default:return".mtc__act"}}(),a,function(e){switch(n){case"add_child":case"create":return"✚";case"delete":return"✖";case"expand_more":return"▶";case"expand_less":return"◢"}}())}}};exports.TreeButton=o,exports.move=i,exports.uuid4=a,function(e,t){void 0===t&&(t={});var r=t.insertAt;if("undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===r&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}('.mtc .mtc__clearfix:after{content:"";clear:both;display:table}.mtc{padding-left:0;margin:.5rem 0 1rem;border:1px solid #e0e0e0;border-radius:2px;overflow:hidden;position:relative;white-space:nowrap}.mtc.mtc__empty{padding:1em 0}.mtc .mtc__clickable{cursor:pointer;margin:0 2px}.mtc .mtc__collapse-expand-item{margin:0 .6rem}.mtc .mtc__childless-item{margin-left:2rem}.mtc .mtc__indent{margin:0 1.5rem}.mtc .mtc__moveable{cursor:move}.mtc .mtc__item{cursor:pointer}.mtc .mtc__header{line-height:32px;line-height:2rem;width:100%}.mtc .mtc__act-group,.mtc .mtc__header div{display:inline-block;overflow:hidden;text-overflow:ellipsis;vertical-align:middle}.mtc .mtc__header.active{background:#e0e0e0}.mtc .mtc__header:focus{color:#00f;background-color:#cf5c3f}.mtc .mtc__header a{float:left;color:#f2f2f2;text-align:center;padding:14px 16px;text-decoration:none;font-size:17px}.mtc .mtc__item .mtc__act-group{visibility:hidden;opacity:0;-webkit-transition:visibility 0s,opacity .5s linear;transition:visibility 0s,opacity .5s linear;display:none;float:right}.mtc .mtc__header:hover .mtc__act-group{visibility:visible;opacity:1;display:inline-block}.mtc .mtc__act{font-weight:700}.mtc .mtc__act,.mtc .mtc__act i{cursor:pointer;display:inline-block;padding:0 .3rem}.mtc .mtc__act i{font-weight:400}.mtc .mtc__act:hover{background:#e0e0e0}.mtc .mtc__branch:hover .mtc__act{visibility:visible;opacity:1;display:inline-block}.mtc ul.mtc__item-body{padding-left:.8rem}.mtc ul.mtc__item-body>li{white-space:nowrap}.mtc span.mtc__item-title{margin-right:1rem}.mtc .mtc__draggable{cursor:move;cursor:grab;cursor:-webkit-grab}.mtc .mtc__draggable:active{cursor:grabbing;cursor:-webkit-grabbing}.mtc .mtc__as_child{background:-webkit-gradient(linear,left top,left bottom,from(rgba(30,87,153,0)),color-stop(50%,rgba(41,137,216,.49)),color-stop(51%,rgba(32,124,202,.5)),to(rgba(125,185,232,0)));background:linear-gradient(180deg,rgba(30,87,153,0) 0,rgba(41,137,216,.49) 50%,rgba(32,124,202,.5) 51%,rgba(125,185,232,0));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="rgba(0, 30, 87, 0.6)",endColorstr="rgba(0, 125, 185, 0.9098)",GradientType=0)}.mtc .mtc__below{background:-webkit-gradient(linear,left top,left bottom,from(rgba(30,87,153,0)),to(rgba(30,87,153,.7)));background:linear-gradient(180deg,rgba(30,87,153,0) 0,rgba(30,87,153,.7));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="rgba(0, 30, 87, 0.6)",endColorstr="rgba(179, 30, 87, 0.6)",GradientType=0)}.mtc .mtc__above{background:-webkit-gradient(linear,left top,left bottom,from(rgba(30,87,153,.7)),to(rgba(30,87,153,0)));background:linear-gradient(180deg,rgba(30,87,153,.7) 0,rgba(30,87,153,0));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="rgba(179, 30, 87, 0.6)",endColorstr="rgba(0, 30, 87, 0.6)",GradientType=0)}');var c="tree-item-",l=function(){var t={isOpen:!1};return{oninit:function(e){var r=e.attrs.options,n=r.isOpen,a=r._hasChildren;t.toggle=function(e){a(e)&&(n?e[n]=!e[n]:t.isOpen=!t.isOpen)},t.open=function(e,r){r||(n?e[n]=!0:t.isOpen||(t.isOpen=!0))}},view:function(r){var n=r.attrs,a=n.item,i=n.options,c=n.dragOptions,d=n.selectedId,u=n.width,s=i.id,f=i.treeItemView,m=i._findChildren,p=i._isExpanded,_=i._addChildren,g=i._hasChildren,b=i._depth,v=i.onSelect,h=i.onDelete,x=i.editable,y=x.canUpdate,w=x.canCreate,I=x.canDelete,k=x.canDeleteParent,O=i.maxDepth,T=t.toggle,C=t.open,D=t.isOpen,S=p(a,D),E=g(a),N=b(a);return(0,e.default)("li"+(y?".mtc__draggable":"")+"[id=tree-item-"+a[s]+"][draggable="+y+"]",c,[(0,e.default)(".mtc__item",{onclick:function(e){e.stopPropagation(),v(a,d!==a[s])}},[(0,e.default)(".mtc__header.mtc__clearfix",{class:d===a[s]?"active":""},[E?(0,e.default)(o,{buttonName:S?"expand_less":"expand_more",onclick:function(){return T(a)}}):void 0,(0,e.default)(".mtc__item-title",{class:(y?"mtc__moveable":"")+" "+(E?"":"mtc__childless-item"),style:"max-width: "+u+"px"},(0,e.default)(f,{treeItem:a,depth:N,width:u}))],(0,e.default)(".mtc__act-group",[!I||!k&&E?"":(0,e.default)(o,{buttonName:"delete",onclick:function(){return h(a)}}),w&&N<O?(0,e.default)(o,{buttonName:"add_child",onclick:function(){_(a,u),C(a,S)}}):""])),S?(0,e.default)("ul.mtc__item-body",m(a).map(function(t){return(0,e.default)(l,{width:u-12,item:t,options:i,dragOptions:c,selectedId:d,key:t[s]})}).slice()):""])])}}},d=function(){},u=function(){var t={selectedId:"",dragId:""},c=function(e){var o=function(e,t,r){return function(a,i,o){return null,void 0,l=function(){var c,l,d,u;return n(this,function(n){switch(n.label){case 0:return t?"boolean"!=typeof(c=t(a,i,o))?[4,c]:[3,2]:[3,4];case 1:return l=n.sent(),[3,3];case 2:l=c,n.label=3;case 3:if(!1===l)return[2];n.label=4;case 4:return"function"!=typeof(d=e(a,i,o))?[3,6]:[4,d];case 5:n.sent(),n.label=6;case 6:return r?"function"!=typeof(u=r(a,i,o))?[3,8]:[4,u]:[3,8];case 7:n.sent(),n.label=8;case 8:return[2]}})},new((c=void 0)||(c=Promise))(function(e,t){function r(e){try{a(l.next(e))}catch(e){t(e)}}function n(e){try{a(l.throw(e))}catch(e){t(e)}}function a(t){t.done?e(t.value):new c(function(e){e(t.value)}).then(r,n)}a((l=l.apply(null,[])).next())});var c,l}},c=r({id:"id",parentId:"parentId",name:"name",isOpen:"isOpen",maxDepth:Number.MAX_SAFE_INTEGER,multipleRoots:!0,logging:!1,editable:{canCreate:!1,canDelete:!1,canUpdate:!1,canDeleteParent:!1},placeholder:"Create your first item"},e);c.logging&&(exports.log=d=console.log);var l=c.id,f=c.parentId,m=c.name,p=c.isOpen,_=function(e,r){var n;if(void 0===e&&(e=""),void 0===r&&(r=t.tree),e&&r)return r.some(function(t){return t[l]===e&&(n=t,!0)}),n},g=function(e,r){if(void 0===e&&(e=""),void 0===r&&(r=t.tree),!e||!r)return!1;var n=!1;return r.some(function(t,a){return t[l]===e&&(r.splice(a,1),S(t).forEach(function(e){return g(e[l])}),n=!0,!0)}),n},b=function(e,t){void 0===t&&(t=0);var r=e[f];return r?b(_(r),t+1):t},v=o(function(e){t.tree&&t.tree.push(e)},c.onBeforeCreate,function(e){w(e,!0),c.onCreate&&c.onCreate(e)}),h=function(t,r){void 0===t&&(t=""),v(function(r){if(e.create){var n=_(t),i=n?b(n):-1;return e.create(n,i,r)}var o={};return o[l]=a(),o[f]=t,o[m]="New...",o}(r))},x=o(function(e){return g(e[l])},c.onBeforeDelete,c.onDelete),y=o(function(e,r,n){return function(e,r){if(void 0===r&&(r=t.tree),!r)return!1;var n=!1;return r.some(function(t,a){return t[l]===e[l]&&(r[a]=e,n=!0,!0)}),n}(e)},c.onBeforeUpdate,c.onUpdate),w=function(e,r){t.selectedId=r?e[l]:"",c.onSelect&&c.onSelect(e,r)},I=c.treeItemView||{view:function(e){return e.attrs.treeItem[m]}},k=function(e,t){var r=e.getBoundingClientRect(),n=r.top,a=r.height,i=t.clientY-n,o=a/3;return i<o?"above":i<2*o?"as_child":"below"},O=function(e){return isNaN(+e)?e:+e},T=function(e,r){if(r.dataTransfer){var n=O(t.dragId||r.dataTransfer.getData("text").replace("tree-item-","")),a=O((u(e)||"").replace("tree-item-",""));return{tiSource:_(n),tiTarget:_(a),sourceId:n,targetId:a}}return{tiSource:void 0,tiTarget:void 0,sourceId:void 0,targetId:void 0}},C=function(e,t,r){void 0===r&&(r=k(e,t));var n=T(e,t),a=n.sourceId,i=n.targetId,o=n.tiSource,l=n.tiTarget,d="as_child"!==r&&l?_(l[f]):l;return i!==a&&(!c.onBeforeUpdate||o&&!0===c.onBeforeUpdate(o,"move",d))},D=function(e){return t.tree&&t.tree.some(function(t){return t[f]===e[l]})},S=function(e){return t.tree?t.tree.filter(function(t){return t[f]===e[l]}):[]};return{dragOptions:{ondrop:function(e){if(!e.dataTransfer||!e.target)return!1;var r=e.target,n=s(r);if(n){n.classList.remove("mtc__above","mtc__below","mtc__as_child"),t.isDragging=!1,e.preventDefault();var a=T(r,e),o=a.sourceId,u=a.targetId,m=a.tiSource,_=a.tiTarget,g=k(n,e);if(!C(r,e,g))return!1;if(d("Dropping "+o+" "+g+" "+u),m&&_){if(m[f]=_["as_child"===g?l:f],t.tree){var b=t.tree&&t.tree.indexOf(m),v=t.tree&&t.tree.indexOf(_),h=Math.max(0,"above"===g?v-1:"below"===g?v+1:t.tree.length-1);i(t.tree,b,h)}return"as_child"===g&&p&&(_[p]=!0),c.onUpdate&&c.onUpdate(m,"move",_),!0}return!1}},ondragover:function(e){e.redraw=!1;var t=e.target,r=s(t);if(r){r.classList.remove("mtc__above","mtc__below","mtc__as_child");var n=k(r,e);C(t,e,n)&&(e.preventDefault(),r.classList.add("mtc__"+n),t.style.cursor=C(t,e,n)?"inherit":"no_drop")}else t.style.cursor="no_drop"},ondragleave:function(e){var t=e.target;t&&t.style&&(t.style.cursor="inherit");var r=s(t);r&&r.classList.remove("mtc__above","mtc__below","mtc__as_child")},ondragstart:function(e){var r=e.target;e.redraw=!1,t.dragId="",r&&e.dataTransfer&&(t.isDragging=!0,e.dataTransfer.setData("text",r.id),e.dataTransfer.effectAllowed="move",t.dragId=r.id.replace("tree-item-",""),d("Drag start: "+e.dataTransfer.getData("text")))}},options:r({},c,{treeItemView:I,onSelect:w,onCreate:v,onDelete:x,onUpdate:y,_findChildren:S,_find:_,_deleteItem:g,_createItem:h,_hasChildren:D,_addChildren:function(e,t){h(e[l],t)},_depth:b,_isExpanded:function(e,t){return D(e)&&(p&&e[p]||t)}})}},u=function(e){return e?e.id?e.id:e.parentElement?u(e.parentElement):null:null},s=function(e){return e?e.id?e:e.parentElement?s(e.parentElement):null:null},f=function(e){var r=e.dom;t.width=r.clientWidth-64};return{oninit:function(e){var r=e.attrs.options,n=c(r),a=n.options,i=n.dragOptions;t.options=a,t.dragOptions=i,t.parentId=a.parentId},onupdate:f,oncreate:f,view:function(n){var a=n.attrs.tree;t.tree=a;var i=t.options,c=t.dragOptions,d=t.parentId,u=t.width;if(t.tree&&i&&c){var s=i._createItem,f=i.placeholder,m=i.editable,p=m.canUpdate,_=m.canCreate,g=i.id,b=i.multipleRoots,v=0===t.tree.length;return(0,e.default)(".mtc.mtc__container",v?(0,e.default)(".mtc__empty",(0,e.default)(".mtc__act.mtc__header",{onclick:function(){return s()}},[(0,e.default)("div","✚"),(0,e.default)("i",f)])):(0,e.default)("[draggable="+p+"]",r({},c),(0,e.default)("ul.mtc__branch",t.tree.filter(function(e){return!e[d]}).map(function(r){return(0,e.default)(l,{item:r,width:u,options:i,dragOptions:c,selectedId:t.selectedId,key:r[g]})}).concat([_&&b?(0,e.default)("li.mtc__new_root",{key:-1},(0,e.default)(".mtc__item.mtc__clickable",(0,e.default)(".mtc__indent",(0,e.default)(o,{buttonName:"create",onclick:function(){return s()}})))):e.default.fragment({key:-1},"")]))))}}}};exports.TreeContainer=u,exports.log=d,exports.TreeItem=l,exports.TreeItemIdPrefix=c;
},{"mithril":"/Vx2"}],"3FMz":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var n=t(require("mithril")),i=require("mithril-tree-component");exports.TreeView=function(){var t=[{id:1,parentId:0,title:"My id is 1",description:"Description of item 1."},{id:2,parentId:1,title:"My id is 2",description:"Description of item 2."},{id:3,parentId:1,title:"My id is 3",description:"Description of item 3."},{id:4,parentId:2,title:"I have a very long title which should be displayed using ellipses if everything works as expected",description:"Description of item 4."},{id:5,parentId:0,title:"My id is 5 - I am not a drop target",description:"Items cannot be dropped on me."},{id:6,parentId:0,title:"My id is 6",description:"Description of item 6."},{id:7,parentId:0,title:"My id is 7",description:"Description of item 7."},{id:8,parentId:4,title:"My id is 8",description:"Description of item 8."}],o=[],r=t,a={logging:!0,id:"id",parentId:"parentId",isOpen:"isOpen",name:"title",onSelect:function(e,t){return console.log("On "+(t?"select":"unselect")+": "+e.title)},onBeforeCreate:function(e){return console.log("On before create "+e.title)},onCreate:function(e){return console.log("On create "+e.title)},onBeforeDelete:function(e){return console.log("On before delete "+e.title)},onDelete:function(e){return console.log("On delete "+e.title)},onBeforeUpdate:function(e,t,n){console.log("On before "+t+" update "+e.title+" to "+(n?n.title:"")+".");var i=!n||5!==n.id;return console.warn(i?"Drop allowed":"Drop not allowed"),i},onUpdate:function(e){return console.log("On update "+e.title)},create:function(e){var t={};return t.id=i.uuid4(),e&&(t.parentId=e.id),t.title="Created at "+(new Date).toLocaleTimeString(),t},editable:{canCreate:!1,canDelete:!1,canUpdate:!1,canDeleteParent:!1}},l=e({},a,{placeholder:"Create a new tree item",editable:{canCreate:!0,canDelete:!0,canUpdate:!0,canDeleteParent:!1}}),d=e({},a,{maxDepth:3,treeItemView:{view:function(e){var t=e.attrs,i=t.depth,o=t.treeItem,r=o.title,a=o.description,l=t.width;return n.default("div",{style:"max-width: "+(l-32)+"px"},n.default("div",{style:"font-weight: bold; margin-right: 1rem"},"Depth "+i+": "+r),n.default("div",{style:"font-style: italic;"},a||"..."))}}}),c=e({},a,{isOpen:void 0,editable:{canCreate:!0,canDelete:!0,canUpdate:!0,canDeleteParent:!1}}),s=e({},a,{isOpen:void 0,editable:{canCreate:!0,canDelete:!0,canUpdate:!0,canDeleteParent:!1},onBeforeDelete:function(e){return new Promise(function(t){setTimeout(function(){console.log("On before delete "+e.title),t(!0)},3e3)})},onBeforeCreate:function(e){return new Promise(function(t){setTimeout(function(){console.log("On before create "+e.title),t(!0)},3e3)})},onDelete:function(e){console.log("On delete "+e.title),n.default.redraw()},onCreate:function(e){console.log("On create "+e.title),n.default.redraw()}});return{view:function(){return n.default(".row",[n.default(".col.s6",[n.default("h3","CRUD"),n.default(i.TreeContainer,{tree:r,options:l}),n.default("h3","Readonly"),n.default(i.TreeContainer,{tree:r,options:a}),n.default("h3","Own view, maxDepth 3"),n.default(i.TreeContainer,{tree:r,options:d}),n.default("h3","CRUD, isOpen undefined"),n.default(i.TreeContainer,{tree:r,options:c}),n.default("h3","CRUD, async. create and delete"),n.default(i.TreeContainer,{tree:r,options:s}),n.default("h3","CRUD, empty tree"),n.default(i.TreeContainer,{tree:o,options:l})]),n.default(".col.s6",[n.default("button.waves-effect.waves-light.btn",{onclick:function(){setTimeout(function(){t[0].title="Updated at "+(new Date).toTimeString(),n.default.redraw()},1e3)}},"Update first node with timeout"),n.default("h3","Tree data"),n.default("pre",n.default("code",JSON.stringify(r,null,2)))])])}}};
},{"mithril":"/Vx2","mithril-tree-component":"er4H"}],"DqVK":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("mithril"));exports.Layout=function(){return{view:function(e){return t.default("container",[t.default("nav",t.default(".nav-wrapper",[t.default("a.brand-logo",{style:"margin-left: 20px"},t.default("span",{style:"margin-top: 10px; margin-left: -10px;"},"MITHRIL TREE COMPONENT"))])),t.default("section.main",e.children)])}}};
},{"mithril":"/Vx2"}],"+YSF":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),require("materialize-css/dist/css/materialize.min.css"),require("./styles.css");var r=e(require("mithril")),t=require("./components/tree-view"),i=require("./components/layout"),u={"/":{render:function(){return r.default(i.Layout,r.default(t.TreeView))}}};r.default.route(document.body,"/",u);
},{"materialize-css/dist/css/materialize.min.css":"oaoG","./styles.css":"oaoG","mithril":"/Vx2","./components/tree-view":"3FMz","./components/layout":"DqVK"}]},{},["+YSF"], null)
//# sourceMappingURL=https://erikvullings.github.io/mithril-tree-component/app.e551f8c0.js.map