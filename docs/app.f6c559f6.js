parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"oaoG":[function(require,module,exports) {

},{}],"lxlU":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];function t(e,t,n,r,o,i){return{tag:e,key:t,attrs:n,children:r,text:o,dom:i,domSize:void 0,state:void 0,events:void 0,instance:void 0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PromisePolyfill=exports.vnode=exports.version=exports.buildQueryString=exports.parseQueryString=exports.jsonp=exports.request=exports.redraw=exports.render=exports.route=exports.mount=exports.fragment=exports.trust=exports.m=exports.default=void 0,t.normalize=function(e){return Array.isArray(e)?t("[",void 0,void 0,t.normalizeChildren(e),void 0,void 0):null!=e&&"object"!=typeof e?t("#",void 0,void 0,!1===e?"":e,void 0,void 0):e},t.normalizeChildren=function(e){for(var n=[],r=0;r<e.length;r++)n[r]=t.normalize(e[r]);return n};var n=function(){var e,n=arguments[this],r=this+1;if(null==n?n={}:("object"!=typeof n||null!=n.tag||Array.isArray(n))&&(n={},r=this),arguments.length===r+1)e=arguments[r],Array.isArray(e)||(e=[e]);else for(e=[];r<arguments.length;)e.push(arguments[r++]);return t("",n.key,n,e)},r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,o={},i={}.hasOwnProperty;function l(e){for(var t in e)if(i.call(e,t))return!1;return!0}function a(e){for(var t,n="div",i=[],l={};t=r.exec(e);){var a=t[1],u=t[2];if(""===a&&""!==u)n=u;else if("#"===a)l.id=u;else if("."===a)i.push(u);else if("["===t[3][0]){var s=t[6];s&&(s=s.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===t[4]?i.push(s):l[t[4]]=""===s?s:s||!0}}return i.length>0&&(l.className=i.join(" ")),o[e]={tag:n,attrs:l}}function u(e,n){var r=n.attrs,o=t.normalizeChildren(n.children),a=i.call(r,"class"),u=a?r.class:r.className;if(n.tag=e.tag,n.attrs=null,n.children=void 0,!l(e.attrs)&&!l(r)){var s={};for(var f in r)i.call(r,f)&&(s[f]=r[f]);r=s}for(var f in e.attrs)i.call(e.attrs,f)&&"className"!==f&&!i.call(r,f)&&(r[f]=e.attrs[f]);for(var f in null==u&&null==e.attrs.className||(r.className=null!=u?null!=e.attrs.className?String(e.attrs.className)+" "+String(u):u:null!=e.attrs.className?e.attrs.className:null),a&&(r.class=null),r)if(i.call(r,f)&&"key"!==f){n.attrs=r;break}return Array.isArray(o)&&1===o.length&&null!=o[0]&&"#"===o[0].tag?n.text=o[0].children:n.children=o,n}function s(e){if(null==e||"string"!=typeof e&&"function"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");var r=n.apply(1,arguments);return"string"==typeof e&&(r.children=t.normalizeChildren(r.children),"["!==e)?u(o[e]||a(e),r):(r.tag=e,r)}s.trust=function(e){return null==e&&(e=""),t("<",void 0,void 0,e,void 0,void 0)},s.fragment=function(){var e=n.apply(0,arguments);return e.tag="[",e.children=t.normalizeChildren(e.children),e};var f=function(){return s.apply(this,arguments)};if(f.m=s,f.trust=s.trust,f.fragment=s.fragment,(c=function(e){if(!(this instanceof c))throw new Error("Promise must be called with `new`");if("function"!=typeof e)throw new TypeError("executor must be a function");var t=this,n=[],r=[],o=u(n,!0),i=u(r,!1),l=t._instance={resolvers:n,rejectors:r},a="function"==typeof setImmediate?setImmediate:setTimeout;function u(e,o){return function u(f){var c;try{if(!o||null==f||"object"!=typeof f&&"function"!=typeof f||"function"!=typeof(c=f.then))a(function(){o||0!==e.length||console.error("Possible unhandled promise rejection:",f);for(var t=0;t<e.length;t++)e[t](f);n.length=0,r.length=0,l.state=o,l.retry=function(){u(f)}});else{if(f===t)throw new TypeError("Promise can't be resolved w/ itself");s(c.bind(f))}}catch(d){i(d)}}}function s(e){var t=0;function n(e){return function(n){t++>0||e(n)}}var r=n(i);try{e(n(o),r)}catch(l){r(l)}}s(e)}).prototype.then=function(e,t){var n,r,o=this._instance;function i(e,t,i,l){t.push(function(t){if("function"!=typeof e)i(t);else try{n(e(t))}catch(o){r&&r(o)}}),"function"==typeof o.retry&&l===o.state&&o.retry()}var l=new c(function(e,t){n=e,r=t});return i(e,o.resolvers,n,!0),i(t,o.rejectors,r,!1),l},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.finally=function(e){return this.then(function(t){return c.resolve(e()).then(function(){return t})},function(t){return c.resolve(e()).then(function(){return c.reject(t)})})},c.resolve=function(e){return e instanceof c?e:new c(function(t){t(e)})},c.reject=function(e){return new c(function(t,n){n(e)})},c.all=function(e){return new c(function(t,n){var r=e.length,o=0,i=[];if(0===e.length)t([]);else for(var l=0;l<e.length;l++)!function(l){function a(e){o++,i[l]=e,o===r&&t(i)}null==e[l]||"object"!=typeof e[l]&&"function"!=typeof e[l]||"function"!=typeof e[l].then?a(e[l]):e[l].then(a,n)}(l)})},c.race=function(e){return new c(function(t,n){for(var r=0;r<e.length;r++)e[r].then(t,n)})},"undefined"!=typeof window){void 0===window.Promise?window.Promise=c:window.Promise.prototype.finally||(window.Promise.prototype.finally=c.prototype.finally);var c=window.Promise}else if(void 0!==e){void 0===e.Promise?e.Promise=c:e.Promise.prototype.finally||(e.Promise.prototype.finally=c.prototype.finally);c=e.Promise}var d=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return"";var t=[];for(var n in e)r(n,e[n]);return t.join("&");function r(e,n){if(Array.isArray(n))for(var o=0;o<n.length;o++)r(e+"["+o+"]",n[o]);else if("[object Object]"===Object.prototype.toString.call(n))for(var o in n)r(e+"["+o+"]",n[o]);else t.push(encodeURIComponent(e)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}},p=function(e,t){var n,r=0;function o(e){return function(r,o){"string"!=typeof r?(o=r,r=r.url):null==o&&(o={});var i=new t(function(t,n){e(r,o,function(e){if("function"==typeof o.type)if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=new o.type(e[n]);else e=new o.type(e);t(e)},n)});if(!0===o.background)return i;var l=0;function a(){0==--l&&"function"==typeof n&&n()}return function e(t){var n=t.then;t.then=function(){l++;var r=n.apply(t,arguments);return r.then(a,function(e){if(a(),0===l)throw e}),e(r)};return t}(i)}}function i(e,t){for(var n in e.headers)if({}.hasOwnProperty.call(e.headers,n)&&t.test(n))return!0;return!1}function l(e,t,n){if(null==t)return e;if(e=e.replace(/:([^\/]+)/gi,function(e,n){return null!=t[n]?t[n]:e}),n&&null!=t){var r=d(t);r&&(e+=(e.indexOf("?")<0?"?":"&")+r)}return e}return{request:o(function(t,n,r,o){var a=null!=n.method?n.method.toUpperCase():"GET",u="GET"!==a&&"TRACE"!==a&&("boolean"!=typeof n.useBody||n.useBody),s=n.data,f=!(null!=n.serialize&&n.serialize!==JSON.serialize||s instanceof e.FormData);u&&("function"==typeof n.serialize?s=n.serialize(s):s instanceof e.FormData||(s=JSON.stringify(s)));var c=new e.XMLHttpRequest,d=!1,p=c.abort;for(var v in c.abort=function(){d=!0,p.call(c)},c.open(a,l(t,n.data,!u),"boolean"!=typeof n.async||n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),f&&u&&!i(n,/^content-type0$/i)&&c.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof n.deserialize||i(n,/^accept$/i)||c.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(c.withCredentials=n.withCredentials),n.timeout&&(c.timeout=n.timeout),n.responseType&&(c.responseType=n.responseType),n.headers)({}).hasOwnProperty.call(n.headers,v)&&c.setRequestHeader(v,n.headers[v]);"function"==typeof n.config&&(c=n.config(c,n)||c),c.onreadystatechange=function(){if(!d&&4===c.readyState)try{var e=c.status>=200&&c.status<300||304===c.status||/^file:\/\//i.test(t),i=c.responseText;if("function"==typeof n.extract)i=n.extract(c,n),e=!0;else if("function"==typeof n.deserialize)i=n.deserialize(i);else try{i=i?JSON.parse(i):null}catch(a){throw new Error("Invalid JSON: "+i)}if(e)r(i);else{var l=new Error(c.responseText);l.code=c.status,l.response=i,o(l)}}catch(a){o(a)}},u&&null!=s?c.send(s):c.send()}),jsonp:o(function(t,n,o,i){var a=n.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+r++,u=e.document.createElement("script");e[a]=function(t){u.parentNode.removeChild(u),o(t),delete e[a]},u.onerror=function(){u.parentNode.removeChild(u),i(new Error("JSONP request failed")),delete e[a]},t=l(t,n.data,!0),u.src=t+(t.indexOf("?")<0?"?":"&")+encodeURIComponent(n.callbackKey||"callback")+"="+encodeURIComponent(a),e.document.documentElement.appendChild(u)}),setCompletionCallback:function(e){n=e}}},v=p(window,c),h=function(e){var n,r=e.document,o={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function i(e){return e.attrs&&e.attrs.xmlns||o[e.tag]}function l(e,t){if(e.state!==t)throw new Error("`vnode.state` must not be modified")}function a(e){var t=e.state;try{return this.apply(t,arguments)}finally{l(e,t)}}function u(){try{return r.activeElement}catch(e){return null}}function s(e,t,n,r,o,i,l){for(var a=n;a<r;a++){var u=t[a];null!=u&&f(e,u,o,l,i)}}function f(e,n,o,l,u){var c=n.tag;if("string"==typeof c)switch(n.state={},null!=n.attrs&&$(n.attrs,n,o),c){case"#":!function(e,t,n){t.dom=r.createTextNode(t.children),g(e,t.dom,n)}(e,n,u);break;case"<":d(e,n,l,u);break;case"[":!function(e,t,n,o,i){var l=r.createDocumentFragment();if(null!=t.children){var a=t.children;s(l,a,0,a.length,n,null,o)}t.dom=l.firstChild,t.domSize=l.childNodes.length,g(e,l,i)}(e,n,o,l,u);break;default:!function(e,n,o,l,a){var u=n.tag,f=n.attrs,c=f&&f.is,d=(l=i(n)||l)?c?r.createElementNS(l,u,{is:c}):r.createElementNS(l,u):c?r.createElement(u,{is:c}):r.createElement(u);n.dom=d,null!=f&&function(e,t,n){for(var r in t)k(e,r,null,t[r],n)}(n,f,l);if(g(e,d,a),null!=f&&null!=f.contenteditable)w(n);else if(null!=n.text&&(""!==n.text?d.textContent=n.text:n.children=[t("#",void 0,void 0,n.text,void 0,void 0)]),null!=n.children){var p=n.children;s(d,p,0,p.length,o,null,l),"select"===n.tag&&null!=f&&function(e,t){if("value"in t)if(null===t.value)-1!==e.dom.selectedIndex&&(e.dom.value=null);else{var n=""+t.value;e.dom.value===n&&-1!==e.dom.selectedIndex||(e.dom.value=n)}"selectedIndex"in t&&k(e,"selectedIndex",null,t.selectedIndex,void 0)}(n,f)}}(e,n,o,l,u)}else!function(e,n,r,o,i){(function(e,n){var r;if("function"==typeof e.tag.view){if(e.state=Object.create(e.tag),null!=(r=e.state.view).$$reentrantLock$$)return;r.$$reentrantLock$$=!0}else{if(e.state=void 0,null!=(r=e.tag).$$reentrantLock$$)return;r.$$reentrantLock$$=!0,e.state=null!=e.tag.prototype&&"function"==typeof e.tag.prototype.view?new e.tag(e):e.tag(e)}if($(e.state,e,n),null!=e.attrs&&$(e.attrs,e,n),e.instance=t.normalize(a.call(e.state.view,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");r.$$reentrantLock$$=null})(n,r),null!=n.instance?(f(e,n.instance,r,o,i),n.dom=n.instance.dom,n.domSize=null!=n.dom?n.instance.domSize:0):n.domSize=0}(e,n,o,l,u)}var c={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function d(e,t,n,o){var i=t.children.match(/^\s*?<(\w+)/im)||[],l=r.createElement(c[i[1]]||"div");"http://www.w3.org/2000/svg"===n?(l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",l=l.firstChild):l.innerHTML=t.children,t.dom=l.firstChild,t.domSize=l.childNodes.length;for(var a,u=r.createDocumentFragment();a=l.firstChild;)u.appendChild(a);g(e,u,o)}function p(e,t,n,r,o,i){if(t!==n&&(null!=t||null!=n))if(null==t||0===t.length)s(e,n,0,n.length,r,o,i);else if(null==n||0===n.length)x(t,0,t.length);else{for(var l=0,a=0,u=null,c=null;a<t.length;a++)if(null!=t[a]){u=null!=t[a].key;break}for(;l<n.length;l++)if(null!=n[l]){c=null!=n[l].key;break}if(null===c&&null==u)return;if(u!==c)x(t,a,t.length),s(e,n,l,n.length,r,o,i);else if(c){for(var d,p,w,k,S,C=t.length-1,z=n.length-1;C>=a&&z>=l;)if(w=t[C],k=n[z],null==w)C--;else if(null==k)z--;else{if(w.key!==k.key)break;w!==k&&v(e,w,k,r,o,i),null!=k.dom&&(o=k.dom),C--,z--}for(;C>=a&&z>=l;)if(d=t[a],p=n[l],null==d)a++;else if(null==p)l++;else{if(d.key!==p.key)break;a++,l++,d!==p&&v(e,d,p,r,y(t,a,o),i)}for(;C>=a&&z>=l;){if(null==d)a++;else if(null==p)l++;else if(null==w)C--;else if(null==k)z--;else{if(l===z)break;if(d.key!==k.key||w.key!==p.key)break;S=y(t,a,o),g(e,m(w),S),w!==p&&v(e,w,p,r,S,i),++l<=--z&&g(e,m(d),o),d!==k&&v(e,d,k,r,o,i),null!=k.dom&&(o=k.dom),a++,C--}w=t[C],k=n[z],d=t[a],p=n[l]}for(;C>=a&&z>=l;){if(null==w)C--;else if(null==k)z--;else{if(w.key!==k.key)break;w!==k&&v(e,w,k,r,o,i),null!=k.dom&&(o=k.dom),C--,z--}w=t[C],k=n[z]}if(l>z)x(t,a,C+1);else if(a>C)s(e,n,l,z+1,r,o,i);else{var E,j,P=o,A=z-l+1,N=new Array(A),O=0,$=0,T=2147483647,I=0;for($=0;$<A;$++)N[$]=-1;for($=z;$>=l;$--)if(null==E&&(E=h(t,a,C+1)),null!=(k=n[$])){var R=E[k.key];null!=R&&(T=R<T?R:-1,N[$-l]=R,w=t[R],t[R]=null,w!==k&&v(e,w,k,r,o,i),null!=k.dom&&(o=k.dom),I++)}if(o=P,I!==C-a+1&&x(t,a,C+1),0===I)s(e,n,l,z+1,r,o,i);else if(-1===T)for(O=(j=function(e){var t,n,r=e.slice(),o=[];o.push(0);for(var i=0,l=e.length;i<l;++i)if(-1!==e[i]){var a=o[o.length-1];if(e[a]<e[i])r[i]=a,o.push(i);else{for(t=0,n=o.length-1;t<n;){var u=(t+n)/2|0;e[o[u]]<e[i]?t=u+1:n=u}e[i]<e[o[t]]&&(t>0&&(r[i]=o[t-1]),o[t]=i)}}t=o.length,n=o[t-1];for(;t-- >0;)o[t]=n,n=r[n];return o}(N)).length-1,$=z;$>=l;$--)p=n[$],-1===N[$-l]?f(e,p,r,i,o):j[O]===$-l?O--:g(e,m(p),o),null!=p.dom&&(o=n[$].dom);else for($=z;$>=l;$--)p=n[$],-1===N[$-l]&&f(e,p,r,i,o),null!=p.dom&&(o=n[$].dom)}}else{var L=t.length<n.length?t.length:n.length;for(l=l<a?l:a;l<L;l++)(d=t[l])===(p=n[l])||null==d&&null==p||(null==d?f(e,p,r,i,y(t,l+1,o)):null==p?b(d):v(e,d,p,r,y(t,l+1,o),i));t.length>L&&x(t,l,t.length),n.length>L&&s(e,n,l,n.length,r,o,i)}}}function v(e,n,r,o,l,u){var s=n.tag;if(s===r.tag){if(r.state=n.state,r.events=n.events,function(e,t){do{if(null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate){var n=a.call(e.attrs.onbeforeupdate,e,t);if(void 0!==n&&!n)break}if("string"!=typeof e.tag&&"function"==typeof e.state.onbeforeupdate){var n=a.call(e.state.onbeforeupdate,e,t);if(void 0!==n&&!n)break}return!1}while(0);return e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,!0}(r,n))return;if("string"==typeof s)switch(null!=r.attrs&&T(r.attrs,r,o),s){case"#":!function(e,t){e.children.toString()!==t.children.toString()&&(e.dom.nodeValue=t.children);t.dom=e.dom}(n,r);break;case"<":!function(e,t,n,r,o){t.children!==n.children?(m(t),d(e,n,r,o)):(n.dom=t.dom,n.domSize=t.domSize)}(e,n,r,u,l);break;case"[":!function(e,t,n,r,o,i){p(e,t.children,n.children,r,o,i);var l=0,a=n.children;if(n.dom=null,null!=a){for(var u=0;u<a.length;u++){var s=a[u];null!=s&&null!=s.dom&&(null==n.dom&&(n.dom=s.dom),l+=s.domSize||1)}1!==l&&(n.domSize=l)}}(e,n,r,o,l,u);break;default:!function(e,n,r,o){var l=n.dom=e.dom;o=i(n)||o,"textarea"===n.tag&&(null==n.attrs&&(n.attrs={}),null!=n.text&&(n.attrs.value=n.text,n.text=void 0));(function(e,t,n,r){if(null!=n)for(var o in n)k(e,o,t&&t[o],n[o],r);var i;if(null!=t)for(var o in t)null==(i=t[o])||null!=n&&null!=n[o]||S(e,o,i,r)})(n,e.attrs,n.attrs,o),null!=n.attrs&&null!=n.attrs.contenteditable?w(n):null!=e.text&&null!=n.text&&""!==n.text?e.text.toString()!==n.text.toString()&&(e.dom.firstChild.nodeValue=n.text):(null!=e.text&&(e.children=[t("#",void 0,void 0,e.text,void 0,e.dom.firstChild)]),null!=n.text&&(n.children=[t("#",void 0,void 0,n.text,void 0,void 0)]),p(l,e.children,n.children,r,null,o))}(n,r,o,u)}else!function(e,n,r,o,i,l){if(r.instance=t.normalize(a.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");T(r.state,r,o),null!=r.attrs&&T(r.attrs,r,o);null!=r.instance?(null==n.instance?f(e,r.instance,o,l,i):v(e,n.instance,r.instance,o,i,l),r.dom=r.instance.dom,r.domSize=r.instance.domSize):null!=n.instance?(b(n.instance),r.dom=void 0,r.domSize=0):(r.dom=n.dom,r.domSize=n.domSize)}(e,n,r,o,l,u)}else b(n),f(e,r,o,u,l)}function h(e,t,n){for(var r=Object.create(null);t<n;t++){var o=e[t];if(null!=o){var i=o.key;null!=i&&(r[i]=t)}}return r}function m(e){var t=e.domSize;if(null!=t||null==e.dom){var n=r.createDocumentFragment();if(t>0){for(var o=e.dom;--t;)n.appendChild(o.nextSibling);n.insertBefore(o,n.firstChild)}return n}return e.dom}function y(e,t,n){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return n}function g(e,t,n){null!=n?e.insertBefore(t,n):e.appendChild(t)}function w(e){var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var n=t[0].children;e.dom.innerHTML!==n&&(e.dom.innerHTML=n)}else if(null!=e.text||null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted")}function x(e,t,n){for(var r=t;r<n;r++){var o=e[r];null!=o&&b(o)}}function b(e){var t,n=1,r=0,o=e.state;"string"!=typeof e.tag&&"function"==typeof e.state.onbeforeremove&&(null!=(t=a.call(e.state.onbeforeremove,e))&&"function"==typeof t.then&&(n++,t.then(i,i)));e.attrs&&"function"==typeof e.attrs.onbeforeremove&&(null!=(t=a.call(e.attrs.onbeforeremove,e))&&"function"==typeof t.then&&(n++,t.then(i,i)));function i(){if(++r===n&&(l(e,o),function e(t){"string"!=typeof t.tag&&"function"==typeof t.state.onremove&&a.call(t.state.onremove,t);t.attrs&&"function"==typeof t.attrs.onremove&&a.call(t.attrs.onremove,t);if("string"!=typeof t.tag)null!=t.instance&&e(t.instance);else{var n=t.children;if(Array.isArray(n))for(var r=0;r<n.length;r++){var o=n[r];null!=o&&e(o)}}}(e),e.dom)){for(var t=e.dom.parentNode,i=e.domSize||1;--i;)t.removeChild(e.dom.nextSibling);t.removeChild(e.dom)}}i()}function k(e,t,n,o,i){if("key"!==t&&"is"!==t&&null!=o&&!C(t)&&(n!==o||function(e,t){return"value"===t||"checked"===t||"selectedIndex"===t||"selected"===t&&e.dom===u()||"option"===e.tag&&e.dom.parentNode===r.activeElement}(e,t)||"object"==typeof o)){if("o"===t[0]&&"n"===t[1])return O(e,t,o);if("xlink:"===t.slice(0,6))e.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),o);else if("style"===t)A(e.dom,n,o);else if(z(e,t,i)){if("value"===t){if(("input"===e.tag||"textarea"===e.tag)&&e.dom.value===""+o&&e.dom===u())return;if("select"===e.tag&&null!==n&&e.dom.value===""+o)return;if("option"===e.tag&&null!==n&&e.dom.value===""+o)return}"input"===e.tag&&"type"===t?e.dom.setAttribute(t,o):e.dom[t]=o}else"boolean"==typeof o?o?e.dom.setAttribute(t,""):e.dom.removeAttribute(t):e.dom.setAttribute("className"===t?"class":t,o)}}function S(e,t,n,r){if("key"!==t&&"is"!==t&&null!=n&&!C(t))if("o"!==t[0]||"n"!==t[1]||C(t))if("style"===t)A(e.dom,n,null);else if(!z(e,t,r)||"className"===t||"value"===t&&("option"===e.tag||"select"===e.tag&&-1===e.dom.selectedIndex&&e.dom===u())||"input"===e.tag&&"type"===t){var o=t.indexOf(":");-1!==o&&(t=t.slice(o+1)),!1!==n&&e.dom.removeAttribute("className"===t?"class":t)}else e.dom[t]=null;else O(e,t,void 0)}function C(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function z(e,t,n){return void 0===n&&(e.tag.indexOf("-")>-1||null!=e.attrs&&e.attrs.is||"href"!==t&&"list"!==t&&"form"!==t&&"width"!==t&&"height"!==t)&&t in e.dom}var E=/[A-Z]/g;function j(e){return"-"+e.toLowerCase()}function P(e){return"-"===e[0]&&"-"===e[1]?e:"cssFloat"===e?"float":e.replace(E,j)}function A(e,t,n){if(t===n);else if(null==n)e.style.cssText="";else if("object"!=typeof n)e.style.cssText=n;else if(null==t||"object"!=typeof t)for(var r in e.style.cssText="",n){null!=(o=n[r])&&e.style.setProperty(P(r),String(o))}else{for(var r in n){var o;null!=(o=n[r])&&(o=String(o))!==String(t[r])&&e.style.setProperty(P(r),o)}for(var r in t)null!=t[r]&&null==n[r]&&e.style.removeProperty(P(r))}}function N(){}function O(e,t,n){if(null!=e.events){if(e.events[t]===n)return;null==n||"function"!=typeof n&&"object"!=typeof n?(null!=e.events[t]&&e.dom.removeEventListener(t.slice(2),e.events,!1),e.events[t]=void 0):(null==e.events[t]&&e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=n)}else null==n||"function"!=typeof n&&"object"!=typeof n||(e.events=new N,e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=n)}function $(e,t,n){"function"==typeof e.oninit&&a.call(e.oninit,t),"function"==typeof e.oncreate&&n.push(a.bind(e.oncreate,t))}function T(e,t,n){"function"==typeof e.onupdate&&n.push(a.bind(e.onupdate,t))}return N.prototype=Object.create(null),N.prototype.handleEvent=function(e){var t,r=this["on"+e.type];"function"==typeof r?t=r.call(e.currentTarget,e):"function"==typeof r.handleEvent&&r.handleEvent(e),!1===e.redraw?e.redraw=void 0:"function"==typeof n&&n(),!1===t&&(e.preventDefault(),e.stopPropagation())},{render:function(e,n){if(!e)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var r=[],o=u(),i=e.namespaceURI;null==e.vnodes&&(e.textContent=""),n=t.normalizeChildren(Array.isArray(n)?n:[n]),p(e,e.vnodes,n,r,null,"http://www.w3.org/1999/xhtml"===i?void 0:i),e.vnodes=n,null!=o&&u()!==o&&"function"==typeof o.focus&&o.focus();for(var l=0;l<r.length;l++)r[l]()},setRedraw:function(e){return n=e}}};function m(e){var t=null;return function(){null===t&&(t=requestAnimationFrame(function(){t=null,e()}))}}var y=function(e,t){var n=h(e),r=[],o=!1;function i(e){var t=r.indexOf(e);t>-1&&r.splice(t,2)}function l(){if(o)throw new Error("Nested m.redraw.sync() call");o=!0;for(var e=1;e<r.length;e+=2)try{r[e]()}catch(t){"undefined"!=typeof console&&console.error(t)}o=!1}var a=(t||m)(l);return a.sync=l,n.setRedraw(a),{subscribe:function(e,t){i(e),r.push(e,t)},unsubscribe:i,redraw:a,render:n.render}},g=y(window);v.setCompletionCallback(g.redraw);var w=function(e){return function(n,r){if(null===r)return e.render(n,[]),void e.unsubscribe(n);if(null==r.view&&"function"!=typeof r)throw new Error("m.mount(element, component) expects a component, not a vnode");var o=function(){e.render(n,t(r))};e.subscribe(n,o),o()}};f.mount=w(g);var x=c,b=function(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1));for(var t=e.split("&"),n={},r={},o=0;o<t.length;o++){var i=t[o].split("="),l=decodeURIComponent(i[0]),a=2===i.length?decodeURIComponent(i[1]):"";"true"===a?a=!0:"false"===a&&(a=!1);var u=l.split(/\]\[?|\[/),s=n;l.indexOf("[")>-1&&u.pop();for(var f=0;f<u.length;f++){var c=u[f],d=u[f+1],p=""==d||!isNaN(parseInt(d,10)),v=f===u.length-1;if(""===c)null==r[l=u.slice(0,f).join()]&&(r[l]=0),c=r[l]++;null==s[c]&&(s[c]=v?a:p?[]:{}),s=s[c]}}return n},k=function(e){var t,n="function"==typeof e.history.pushState,r="function"==typeof setImmediate?setImmediate:setTimeout;function o(t){var n=e.location[t].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return"pathname"===t&&"/"!==n[0]&&(n="/"+n),n}function i(e,t,n){var r=e.indexOf("?"),o=e.indexOf("#"),i=r>-1?r:o>-1?o:e.length;if(r>-1){var l=o>-1?o:e.length,a=b(e.slice(r+1,l));for(var u in a)t[u]=a[u]}if(o>-1){var s=b(e.slice(o+1));for(var u in s)n[u]=s[u]}return e.slice(0,i)}var l={prefix:"#!",getPath:function(){switch(l.prefix.charAt(0)){case"#":return o("hash").slice(l.prefix.length);case"?":return o("search").slice(l.prefix.length)+o("hash");default:return o("pathname").slice(l.prefix.length)+o("search")+o("hash")}},setPath:function(t,r,o){var a={},u={};if(t=i(t,a,u),null!=r){for(var s in r)a[s]=r[s];t=t.replace(/:([^\/]+)/g,function(e,t){return delete a[t],r[t]})}var f=d(a);f&&(t+="?"+f);var c=d(u);if(c&&(t+="#"+c),n){var p=o?o.state:null,v=o?o.title:null;e.onpopstate(),o&&o.replace?e.history.replaceState(p,v,l.prefix+t):e.history.pushState(p,v,l.prefix+t)}else e.location.href=l.prefix+t}};return l.defineRoutes=function(o,a,u){function s(){var t=l.getPath(),n={},r=i(t,n,n),s=e.history.state;if(null!=s)for(var f in s)n[f]=s[f];for(var c in o){var d=new RegExp("^"+c.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(d.test(r))return void r.replace(d,function(){for(var e=c.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2),i=0;i<e.length;i++)n[e[i].replace(/:|\./g,"")]=decodeURIComponent(r[i]);a(o[c],n,t,c)})}u(t,n)}var f;n?e.onpopstate=(f=s,function(){null==t&&(t=r(function(){t=null,f()}))}):"#"===l.prefix.charAt(0)&&(e.onhashchange=s),s()},l},S=function(e,n){var r,o,i,l,a,u=k(e),s=function(e,s,f){if(null==e)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");function c(){null!=r&&n.render(e,r(t(o,i.key,i)))}var d=function(){c(),d=n.redraw};n.subscribe(e,c);var p=function(e){if(e===s)throw new Error("Could not resolve default route "+s);u.setPath(s,null,{replace:!0})};u.defineRoutes(f,function(e,t,n){var u=a=function(e,s){u===a&&(o=null==s||"function"!=typeof s.view&&"function"!=typeof s?"div":s,i=t,l=n,a=null,r=(e.render||function(e){return e}).bind(e),d())};e.view||"function"==typeof e?u({},e):e.onmatch?x.resolve(e.onmatch(t,n)).then(function(t){u(e,t)},p):u(e,"div")},p)};s.set=function(e,t,n){null!=a&&((n=n||{}).replace=!0),a=null,u.setPath(e,t,n)},s.get=function(){return l},s.prefix=function(e){u.prefix=e};var f=function(e,t){t.dom.setAttribute("href",u.prefix+t.attrs.href),t.dom.onclick=function(t){if(!(t.ctrlKey||t.metaKey||t.shiftKey||2===t.which)){t.preventDefault(),t.redraw=!1;var n=this.getAttribute("href");0===n.indexOf(u.prefix)&&(n=n.slice(u.prefix.length)),s.set(n,void 0,e)}}};return s.link=function(e){return null==e.tag?f.bind(f,e):f({},e)},s.param=function(e){return void 0!==i&&void 0!==e?i[e]:i},s};f.route=S(window,g);var C=h(window);f.render=C.render,f.redraw=g.redraw,f.request=v.request,f.jsonp=v.jsonp,f.parseQueryString=b,f.buildQueryString=d,f.version="2.0.0-rc.4",f.vnode=t,f.PromisePolyfill=c;var z=f;exports.default=z;var E=f.m,j=f.trust,P=f.fragment,A=f.mount,N=f.route,O=f.render,$=f.redraw,T=f.request,I=f.jsonp,R=f.parseQueryString,L=f.buildQueryString,M=f.version,q=f.vnode,U=f.PromisePolyfill;exports.PromisePolyfill=U,exports.vnode=q,exports.version=M,exports.buildQueryString=L,exports.parseQueryString=R,exports.jsonp=I,exports.request=T,exports.redraw=$,exports.render=O,exports.route=N,exports.mount=A,exports.fragment=P,exports.trust=j,exports.m=E;
},{}],"er4H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.uuid4=exports.move=exports.log=exports.TreeItemIdPrefix=exports.TreeItem=exports.TreeContainer=exports.TreeButton=void 0;var e=t(require("mithril"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function n(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var a=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},i=function(e,t,r){return e?e.splice(r,0,e.splice(t,1)[0]):void 0},o=function(){return{view:function(t){var r=t.attrs,n=r.buttonName,a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]])}return r}(r,["buttonName"]);return(0,e.default)(""+function(e){switch(n){case"expand_more":case"expand_less":return".mtc__clickable.mtc__collapse-expand-item";default:return".mtc__act"}}(),a,function(e){switch(n){case"add_child":case"create":return"✚";case"delete":return"✖";case"expand_more":return"▶";case"expand_less":return"◢"}}())}}};exports.TreeButton=o,exports.move=i,exports.uuid4=a,function(e,t){void 0===t&&(t={});var r=t.insertAt;if("undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===r&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}('.mtc .mtc__clearfix:after{content:"";clear:both;display:table}.mtc{padding-left:0;margin:.5rem 0 1rem;border:1px solid #e0e0e0;border-radius:2px;overflow:hidden;position:relative;white-space:nowrap}.mtc.mtc__empty{padding:1em 0}.mtc .mtc__clickable{cursor:pointer;margin:0 2px}.mtc .mtc__collapse-expand-item{margin:0 .6rem}.mtc .mtc__childless-item{margin-left:2rem}.mtc .mtc__indent{margin:0 1.5rem}.mtc .mtc__moveable{cursor:move}.mtc .mtc__item{cursor:pointer}.mtc .mtc__header{line-height:32px;line-height:2rem;width:100%}.mtc .mtc__act-group,.mtc .mtc__header div{display:inline-block;overflow:hidden;text-overflow:ellipsis;vertical-align:bottom}.mtc .mtc__header.active{background:#e0e0e0}.mtc .mtc__header:focus{color:#00f;background-color:#cf5c3f}.mtc .mtc__header a{float:left;color:#f2f2f2;text-align:center;padding:14px 16px;text-decoration:none;font-size:17px}.mtc .mtc__item .mtc__act-group{visibility:hidden;opacity:0;-webkit-transition:visibility 0s,opacity .5s linear;transition:visibility 0s,opacity .5s linear;display:none;float:right}.mtc .mtc__header:hover .mtc__act-group{visibility:visible;opacity:1;display:inline-block}.mtc .mtc__act{font-weight:700}.mtc .mtc__act,.mtc .mtc__act i{cursor:pointer;display:inline-block;padding:0 .3rem}.mtc .mtc__act i{font-weight:400}.mtc .mtc__act:hover{background:#e0e0e0}.mtc .mtc__branch:hover .mtc__act{visibility:visible;opacity:1;display:inline-block}.mtc ul.mtc__item-body{padding-left:.8rem}.mtc ul.mtc__item-body>li{white-space:nowrap}.mtc span.mtc__item-title{margin-right:1rem}.mtc .mtc__draggable{cursor:move;cursor:grab;cursor:-webkit-grab}.mtc .mtc__draggable:active{cursor:grabbing;cursor:-webkit-grabbing}.mtc .mtc__as_child{background:-webkit-gradient(linear,left top,left bottom,from(rgba(30,87,153,0)),color-stop(50%,rgba(41,137,216,.49)),color-stop(51%,rgba(32,124,202,.5)),to(rgba(125,185,232,0)));background:linear-gradient(180deg,rgba(30,87,153,0) 0,rgba(41,137,216,.49) 50%,rgba(32,124,202,.5) 51%,rgba(125,185,232,0));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="rgba(0, 30, 87, 0.6)",endColorstr="rgba(0, 125, 185, 0.9098)",GradientType=0)}.mtc .mtc__below{background:-webkit-gradient(linear,left top,left bottom,from(rgba(30,87,153,0)),to(rgba(30,87,153,.7)));background:linear-gradient(180deg,rgba(30,87,153,0) 0,rgba(30,87,153,.7));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="rgba(0, 30, 87, 0.6)",endColorstr="rgba(179, 30, 87, 0.6)",GradientType=0)}.mtc .mtc__above{background:-webkit-gradient(linear,left top,left bottom,from(rgba(30,87,153,.7)),to(rgba(30,87,153,0)));background:linear-gradient(180deg,rgba(30,87,153,.7) 0,rgba(30,87,153,0));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="rgba(179, 30, 87, 0.6)",endColorstr="rgba(0, 30, 87, 0.6)",GradientType=0)}');var c="tree-item-",l=function(){var t={isOpen:!1};return{oninit:function(e){var r=e.attrs.options,n=r.isOpen,a=r._hasChildren;t.toggle=function(e){a(e)&&(n?e[n]=!e[n]:t.isOpen=!t.isOpen)},t.open=function(e,r){r||(n?e[n]=!0:t.isOpen||(t.isOpen=!0))}},view:function(r){var n=r.attrs,a=n.item,i=n.options,c=n.dragOptions,d=n.selectedId,u=n.width,s=i.id,f=i.treeItemView,m=i._findChildren,p=i._isExpanded,_=i._addChildren,g=i._hasChildren,b=i._depth,v=i.onSelect,h=i.onDelete,x=i.editable,y=x.canUpdate,w=x.canCreate,I=x.canDelete,k=x.canDeleteParent,O=i.maxDepth,T=t.toggle,C=t.open,D=t.isOpen,S=p(a,D),E=g(a),N=b(a);return(0,e.default)("li"+(y?".mtc__draggable":"")+"[id=tree-item-"+a[s]+"][draggable="+y+"]",c,[(0,e.default)(".mtc__item",{onclick:function(e){e.stopPropagation(),v(a,d!==a[s])}},[(0,e.default)(".mtc__header.mtc__clearfix",{class:d===a[s]?"active":""},[E?(0,e.default)(o,{buttonName:S?"expand_less":"expand_more",onclick:function(){return T(a)}}):void 0,(0,e.default)(".mtc__item-title",{class:(y?"mtc__moveable":"")+" "+(E?"":"mtc__childless-item"),style:"max-width: "+u+"px"},(0,e.default)(f,{treeItem:a,depth:N,width:u}))],(0,e.default)(".mtc__act-group",[!I||!k&&E?"":(0,e.default)(o,{buttonName:"delete",onclick:function(){return h(a)}}),w&&N<O?(0,e.default)(o,{buttonName:"add_child",onclick:function(){_(a,u),C(a,S)}}):""])),S?(0,e.default)("ul.mtc__item-body",m(a).map(function(t){return(0,e.default)(l,{width:u-12,item:t,options:i,dragOptions:c,selectedId:d,key:t[s]})}).slice()):""])])}}},d=function(){},u=function(){var t={selectedId:"",dragId:""},c=function(e){var o=function(e,t,r){return function(a,i,o){return null,void 0,l=function(){var c,l,d,u;return n(this,function(n){switch(n.label){case 0:return t?"boolean"!=typeof(c=t(a,i,o))?[4,c]:[3,2]:[3,4];case 1:return l=n.sent(),[3,3];case 2:l=c,n.label=3;case 3:if(!1===l)return[2];n.label=4;case 4:return"function"!=typeof(d=e(a,i,o))?[3,6]:[4,d];case 5:n.sent(),n.label=6;case 6:return r?"function"!=typeof(u=r(a,i,o))?[3,8]:[4,u]:[3,8];case 7:n.sent(),n.label=8;case 8:return[2]}})},new((c=void 0)||(c=Promise))(function(e,t){function r(e){try{a(l.next(e))}catch(e){t(e)}}function n(e){try{a(l.throw(e))}catch(e){t(e)}}function a(t){t.done?e(t.value):new c(function(e){e(t.value)}).then(r,n)}a((l=l.apply(null,[])).next())});var c,l}},c=r({id:"id",parentId:"parentId",name:"name",isOpen:"isOpen",maxDepth:Number.MAX_SAFE_INTEGER,multipleRoots:!0,logging:!1,editable:{canCreate:!1,canDelete:!1,canUpdate:!1,canDeleteParent:!1},placeholder:"Create your first item"},e);c.logging&&(exports.log=d=console.log);var l=c.id,f=c.parentId,m=c.name,p=c.isOpen,_=function(e,r){var n;if(void 0===e&&(e=""),void 0===r&&(r=t.tree),e&&r)return r.some(function(t){return t[l]===e&&(n=t,!0)}),n},g=function(e,r){if(void 0===e&&(e=""),void 0===r&&(r=t.tree),!e||!r)return!1;var n=!1;return r.some(function(t,a){return t[l]===e&&(r.splice(a,1),S(t).forEach(function(e){return g(e[l])}),n=!0,!0)}),n},b=function(e,t){void 0===t&&(t=0);var r=e[f];return r?b(_(r),t+1):t},v=o(function(e){t.tree&&t.tree.push(e)},c.onBeforeCreate,function(e){w(e,!0),c.onCreate(e)}),h=function(t,r){void 0===t&&(t=""),v(function(r){if(e.create){var n=_(t),i=n?b(n):-1;return e.create(n,i,r)}var o={};return o[l]=a(),o[f]=t,o[m]="New...",o}(r))},x=o(function(e){return g(e[l])},c.onBeforeDelete,c.onDelete),y=o(function(e,r,n){return void 0===r&&(r="edit"),function(e,r){if(void 0===r&&(r=t.tree),!r)return!1;var n=!1;return r.some(function(t,a){return t[l]===e[l]&&(r[a]=e,n=!0,!0)}),n}(e)},c.onBeforeUpdate,c.onUpdate),w=function(e,r){t.selectedId=r?e[l]:"",c.onSelect&&c.onSelect(e,r)},I=c.treeItemView||{view:function(e){return e.attrs.treeItem[m]}},k=function(e,t){var r=e.getBoundingClientRect(),n=r.top,a=r.height,i=t.clientY-n,o=a/3;return i<o?"above":i<2*o?"as_child":"below"},O=function(e){return isNaN(+e)?e:+e},T=function(e,t){if(t.dataTransfer){var r=O(t.dataTransfer.getData("text").replace("tree-item-","")),n=O((u(e)||"").replace("tree-item-",""));return{tiSource:_(r),tiTarget:_(n),sourceId:r,targetId:n}}return{tiSource:void 0,tiTarget:void 0,sourceId:void 0,targetId:void 0}},C=function(e,t,r){void 0===r&&(r=k(e,t));var n=T(e,t),a=n.sourceId,i=n.targetId,o=n.tiSource,l=n.tiTarget,d="as_child"!==r&&l?_(l[f]):l;return i!==a&&(!c.onBeforeUpdate||o&&!0===c.onBeforeUpdate(o,"move",d))},D=function(e){return t.tree&&t.tree.some(function(t){return t[f]===e[l]})},S=function(e){return t.tree?t.tree.filter(function(t){return t[f]===e[l]}):[]};return{dragOptions:{ondrop:function(e){if(!e.dataTransfer||!e.target)return!1;var r=e.target,n=s(r);if(n){n.classList.remove("mtc__above","mtc__below","mtc__as_child"),t.isDragging=!1,e.preventDefault();var a=T(r,e),o=a.sourceId,u=a.targetId,m=a.tiSource,_=a.tiTarget,g=k(n,e);if(!C(r,e,g))return!1;if(d("Dropping "+o+" "+g+" "+u),m&&_){if(m[f]=_["as_child"===g?l:f],t.tree){var b=t.tree&&t.tree.indexOf(m),v=t.tree&&t.tree.indexOf(_),h=Math.max(0,"above"===g?v-1:"below"===g?v+1:t.tree.length-1);i(t.tree,b,h)}return"as_child"===g&&p&&(_[p]=!0),c.onUpdate&&c.onUpdate(m,"move",_),!0}return!1}},ondragover:function(e){e.redraw=!1;var t=e.target,r=s(t);if(r){r.classList.remove("mtc__above","mtc__below","mtc__as_child");var n=k(r,e);C(t,e,n)&&(e.preventDefault(),r.classList.add("mtc__"+n),t.style.cursor=C(t,e,n)?"inherit":"no_drop")}else t.style.cursor="no_drop"},ondragleave:function(e){var t=e.target;t&&t.style&&(t.style.cursor="inherit");var r=s(t);r&&r.classList.remove("mtc__above","mtc__below","mtc__as_child")},ondragstart:function(e){var r=e.target;e.redraw=!1,r&&e.dataTransfer&&(t.isDragging=!0,e.dataTransfer.setData("text",r.id),e.dataTransfer.effectAllowed="move",t.dragId=r.id,d("Drag start: "+e.dataTransfer.getData("text")))}},options:r({},c,{treeItemView:I,onSelect:w,onCreate:v,onDelete:x,onUpdate:y,_findChildren:S,_find:_,_deleteItem:g,_createItem:h,_hasChildren:D,_addChildren:function(e,t){h(e[l],t)},_depth:b,_isExpanded:function(e,t){return D(e)&&(p&&e[p]||t)}})}},u=function(e){return e?e.id?e.id:e.parentElement?u(e.parentElement):null:null},s=function(e){return e?e.id?e:e.parentElement?s(e.parentElement):null:null},f=function(e){var r=e.dom;t.width=r.clientWidth-64};return{oninit:function(e){var r=e.attrs.options,n=c(r),a=n.options,i=n.dragOptions;t.options=a,t.dragOptions=i,t.parentId=a.parentId},onupdate:f,oncreate:f,view:function(n){var a=n.attrs.tree;t.tree=a;var i=t.options,c=t.dragOptions,d=t.parentId,u=t.width;if(t.tree&&i&&c){var s=i._createItem,f=i.placeholder,m=i.editable,p=m.canUpdate,_=m.canCreate,g=i.id,b=i.multipleRoots,v=0===t.tree.length;return(0,e.default)(".mtc.mtc__container",v?(0,e.default)(".mtc__empty",(0,e.default)(".mtc__act.mtc__header",{onclick:function(){return s()}},[(0,e.default)("div","✚"),(0,e.default)("i",f)])):(0,e.default)("[draggable="+p+"]",r({},c),(0,e.default)("ul.mtc__branch",t.tree.filter(function(e){return!e[d]}).map(function(r){return(0,e.default)(l,{item:r,width:u,options:i,dragOptions:c,selectedId:t.selectedId,key:r[g]})}).concat([_&&b?(0,e.default)("li.mtc__new_root",(0,e.default)(".mtc__item.mtc__clickable",(0,e.default)(".mtc__indent",(0,e.default)(o,{buttonName:"create",onclick:function(){return s()}})))):void 0]))))}}}};exports.TreeContainer=u,exports.log=d,exports.TreeItem=l,exports.TreeItemIdPrefix=c;
},{"mithril":"lxlU"}],"3FMz":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var n=t(require("mithril")),i=require("mithril-tree-component");exports.TreeView=function(){var t=[{id:1,parentId:0,title:"My id is 1",description:"Description of item 1."},{id:2,parentId:1,title:"My id is 2",description:"Description of item 2."},{id:3,parentId:1,title:"My id is 3",description:"Description of item 3."},{id:4,parentId:2,title:"I have a very long title which should be displayed using ellipses if everything works as expected",description:"Description of item 4."},{id:5,parentId:0,title:"My id is 5 - I am not a drop target",description:"Items cannot be dropped on me."},{id:6,parentId:0,title:"My id is 6",description:"Description of item 6."},{id:7,parentId:0,title:"My id is 7",description:"Description of item 7."},{id:8,parentId:4,title:"My id is 8",description:"Description of item 8."}],o=[],r=t,a={logging:!0,id:"id",parentId:"parentId",isOpen:"isOpen",name:"title",onSelect:function(e,t){return console.log("On "+(t?"select":"unselect")+": "+e.title)},onBeforeCreate:function(e){return console.log("On before create "+e.title)},onCreate:function(e){return console.log("On create "+e.title)},onBeforeDelete:function(e){return console.log("On before delete "+e.title)},onDelete:function(e){return console.log("On delete "+e.title)},onBeforeUpdate:function(e,t,n){console.log("On before "+t+" update "+e.title+" to "+(n?n.title:"")+".");var i=!n||5!==n.id;return console.warn(i?"Drop allowed":"Drop not allowed"),i},onUpdate:function(e){return console.log("On update "+e.title)},create:function(e){var t={};return t.id=i.uuid4(),e&&(t.parentId=e.id),t.title="Created at "+(new Date).toLocaleTimeString(),t},editable:{canCreate:!1,canDelete:!1,canUpdate:!1,canDeleteParent:!1}},l=e({},a,{placeholder:"Create a new tree item",editable:{canCreate:!0,canDelete:!0,canUpdate:!0,canDeleteParent:!1}}),d=e({},a,{maxDepth:3,treeItemView:{view:function(e){var t=e.attrs,i=t.depth,o=t.treeItem,r=o.title,a=o.description,l=t.width;return n.default("div",{style:"max-width: "+(l-32)+"px"},n.default("div",{style:"font-weight: bold; margin-right: 1rem"},"Depth "+i+": "+r),n.default("div",{style:"font-style: italic;"},a||"..."))}}}),c=e({},a,{isOpen:void 0,editable:{canCreate:!0,canDelete:!0,canUpdate:!0,canDeleteParent:!1}}),s=e({},a,{isOpen:void 0,editable:{canCreate:!0,canDelete:!0,canUpdate:!0,canDeleteParent:!1},onBeforeDelete:function(e){return new Promise(function(t){setTimeout(function(){console.log("On before delete "+e.title),t(!0)},3e3)})},onBeforeCreate:function(e){return new Promise(function(t){setTimeout(function(){console.log("On before create "+e.title),t(!0)},3e3)})},onDelete:function(e){console.log("On delete "+e.title),n.default.redraw()},onCreate:function(e){console.log("On create "+e.title),n.default.redraw()}});return{view:function(){return n.default(".row",[n.default(".col.s6",[n.default("h3","CRUD"),n.default(i.TreeContainer,{tree:r,options:l}),n.default("h3","Readonly"),n.default(i.TreeContainer,{tree:r,options:a}),n.default("h3","Own view, maxDepth 3"),n.default(i.TreeContainer,{tree:r,options:d}),n.default("h3","CRUD, isOpen undefined"),n.default(i.TreeContainer,{tree:r,options:c}),n.default("h3","CRUD, async. create and delete"),n.default(i.TreeContainer,{tree:r,options:s}),n.default("h3","CRUD, empty tree"),n.default(i.TreeContainer,{tree:o,options:l})]),n.default(".col.s6",[n.default("button.waves-effect.waves-light.btn",{onclick:function(){setTimeout(function(){t[0].title="Updated at "+(new Date).toTimeString(),n.default.redraw()},1e3)}},"Update first node with timeout"),n.default("h3","Tree data"),n.default("pre",n.default("code",JSON.stringify(r,null,2)))])])}}};
},{"mithril":"lxlU","mithril-tree-component":"er4H"}],"DqVK":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("mithril"));exports.Layout=function(){return{view:function(e){return t.default("container",[t.default("nav",t.default(".nav-wrapper",[t.default("a.brand-logo",{style:"margin-left: 20px"},t.default("span",{style:"margin-top: 10px; margin-left: -10px;"},"MITHRIL TREE COMPONENT"))])),t.default("section.main",e.children)])}}};
},{"mithril":"lxlU"}],"+YSF":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),require("materialize-css/dist/css/materialize.min.css"),require("./styles.css");var r=e(require("mithril")),t=require("./components/tree-view"),i=require("./components/layout"),u={"/":{render:function(){return r.default(i.Layout,r.default(t.TreeView))}}};r.default.route(document.body,"/",u);
},{"materialize-css/dist/css/materialize.min.css":"oaoG","./styles.css":"oaoG","mithril":"lxlU","./components/tree-view":"3FMz","./components/layout":"DqVK"}]},{},["+YSF"], null)
//# sourceMappingURL=https://erikvullings.github.io/mithril-tree-component/app.f6c559f6.js.map